


<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.5">
    
    
      
        <title>Sample(222 Environment) - FaBo Nordic Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.df84b5fe.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
      
    
    
  </head>
  
  
    <body dir="">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sample222-environment" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="">
    <a href="../../.." title="FaBo Nordic Docs" class="md-header-nav__button md-logo" aria-label="FaBo Nordic Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            FaBo Nordic Docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Sample(222 Environment)
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="FaBo Nordic Docs" class="md-nav__button md-logo" aria-label="FaBo Nordic Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    FaBo Nordic Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="FaBo NRF Docs" class="md-nav__link">
      FaBo NRF Docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../%23%3F%20Environment%20/" title="? Shinobi_Environment" class="md-nav__link">
      ? Shinobi_Environment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      0.開発環境(共有)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="0.開発環境(共有)" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        0.開発環境(共有)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../0.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28%E5%85%B1%E6%9C%89%29/1.AboutSDK/" title="SDKについて" class="md-nav__link">
      SDKについて
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../0.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28%E5%85%B1%E6%9C%89%29/2.Hardware/" title="ハードウェアデザイン" class="md-nav__link">
      ハードウェアデザイン
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../0.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28%E5%85%B1%E6%9C%89%29/3.board/" title="Board" class="md-nav__link">
      Board
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../0.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28%E5%85%B1%E6%9C%89%29/SDK_version/" title="SDKのバージョン" class="md-nav__link">
      SDKのバージョン
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../0.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28%E5%85%B1%E6%9C%89%29/nRF5Series/" title="nRF52シリーズ" class="md-nav__link">
      nRF52シリーズ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../0.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28%E5%85%B1%E6%9C%89%29/nrf/" title="Nrf" class="md-nav__link">
      Nrf
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      1.開発環境(Win)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="1.開発環境(Win)" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        1.開発環境(Win)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/1.Keil_MDK-ARM_install/" title="KEIL MDK-ARMｍのダウンロード" class="md-nav__link">
      KEIL MDK-ARMｍのダウンロード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/2.SDK_Download/" title="2.nRF52 SDKのダウンロード" class="md-nav__link">
      2.nRF52 SDKのダウンロード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/3.NRFgoStudio_install/" title="nRFgo Stduio（Windows）" class="md-nav__link">
      nRFgo Stduio（Windows）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/4.SDK_Preparation/" title="開発の事前準備" class="md-nav__link">
      開発の事前準備
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/5.Debuger/" title="Debuger" class="md-nav__link">
      Debuger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/Programming/" title="プログラミングツール" class="md-nav__link">
      プログラミングツール
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/Protocol/" title="NRF５シリーズ プロトコル" class="md-nav__link">
      NRF５シリーズ　プロトコル
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-8" type="checkbox" id="nav-4-8">
    
    <label class="md-nav__link" for="nav-4-8">
      Shinobi
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Shinobi" data-md-level="2">
      <label class="md-nav__title" for="nav-4-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Shinobi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/Shinobi/Shinobi_CustomBoard/" title="Shinobiボード定義" class="md-nav__link">
      Shinobiボード定義
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9" type="checkbox" id="nav-4-9">
    
    <label class="md-nav__link" for="nav-4-9">
      Sniffer
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Sniffer" data-md-level="2">
      <label class="md-nav__title" for="nav-4-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Sniffer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/Sniffer/sniffer/" title="パケットスニファの設定" class="md-nav__link">
      パケットスニファの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Win%29/Sniffer/sniffer_nrf/" title="パケットスニファの設定" class="md-nav__link">
      パケットスニファの設定
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      2.開発環境(Mac)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="2.開発環境(Mac)" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        2.開発環境(Mac)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/0.EmbedStudio/" title="SEGGER Embed Stduioの開発環境の構築" class="md-nav__link">
      SEGGER Embed Stduioの開発環境の構築
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/1.Segger/" title="Seggerでの環境構築" class="md-nav__link">
      Seggerでの環境構築
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/2.Segger_board/" title="Segger対応の開発ボード" class="md-nav__link">
      Segger対応の開発ボード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/3.NRF5_SDK/" title="nRF5シリーズ" class="md-nav__link">
      nRF5シリーズ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/4.JLINK/" title="J-LINK" class="md-nav__link">
      J-LINK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/5.CommandLineTool_install/" title="CommandLineTool Install" class="md-nav__link">
      CommandLineTool Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/6.Sample/" title="Sample" class="md-nav__link">
      Sample
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/7.cmsis/" title="CMSIS-CORE Support PackageをImport" class="md-nav__link">
      CMSIS-CORE Support PackageをImport
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/8.VisualStudio/" title="Visual Studioの開発環境の構築" class="md-nav__link">
      Visual Studioの開発環境の構築
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%28Mac%29/9.error/" title="エラーとその対処" class="md-nav__link">
      エラーとその対処
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      3.開発ツール
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="3.開発ツール" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        3.開発ツール
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../3.%E9%96%8B%E7%99%BA%E3%83%84%E3%83%BC%E3%83%AB/sniffer_nrf/" title="パケットスニファの設定" class="md-nav__link">
      パケットスニファの設定
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      4.開発基礎
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="4.開発基礎" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        4.開発基礎
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/1.dev_nrf52/" title="開発環境(nRF52)" class="md-nav__link">
      開発環境(nRF52)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/2.uart/" title="UART" class="md-nav__link">
      UART
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/3.debug/" title="Debug Logger" class="md-nav__link">
      Debug Logger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/4.timer/" title="Application Timer" class="md-nav__link">
      Application Timer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/5.error/" title="Common application error handler" class="md-nav__link">
      Common application error handler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/6.pstorage/" title="Persistent Storage Interface" class="md-nav__link">
      Persistent Storage Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.%E9%96%8B%E7%99%BA%E5%9F%BA%E7%A4%8E/7.softdevice/" title="SoftDevice" class="md-nav__link">
      SoftDevice
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      6.iBeacon
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="6.iBeacon" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        6.iBeacon
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../1.beacon/" title="Beacon" class="md-nav__link">
      Beacon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2.beaconadvdata/" title="Advertising Data" class="md-nav__link">
      Advertising Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3.beaconadvparam/" title="Advertising Parameter" class="md-nav__link">
      Advertising Parameter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.beaconsample/" title="Sample" class="md-nav__link">
      Sample
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.template/" title="BLE Peripheral templateのコピー" class="md-nav__link">
      BLE Peripheral templateのコピー
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../6.led/" title="LEDの点灯" class="md-nav__link">
      LEDの点灯
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../7_log/" title="LEDの点灯" class="md-nav__link">
      LEDの点灯
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../8_log/" title="Logの出力" class="md-nav__link">
      Logの出力
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../9.error/" title="エラーハンドラ" class="md-nav__link">
      エラーハンドラ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../a.softdevice/" title="SoftDeviceの焼き込み" class="md-nav__link">
      SoftDeviceの焼き込み
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../b.power/" title="PowerManage" class="md-nav__link">
      PowerManage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../board/" title="Board" class="md-nav__link">
      Board
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c.init_ble/" title="BLEのInit" class="md-nav__link">
      BLEのInit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../d.advdata/" title="AdvDataの設定" class="md-nav__link">
      AdvDataの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev802/" title="開発環境(SoftDevice 8.02/Keil MDK5.16)" class="md-nav__link">
      開発環境(SoftDevice 8.02/Keil MDK5.16)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev_sd802/" title="開発環境(SoftDevice 8.02/Keil MDK5.16)" class="md-nav__link">
      開発環境(SoftDevice 8.02/Keil MDK5.16)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../e.advstart/" title="Advertisingの開始" class="md-nav__link">
      Advertisingの開始
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ibeadondevice/" title="iBeaconデバイス" class="md-nav__link">
      iBeaconデバイス
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../memo/" title="メモ" class="md-nav__link">
      メモ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nrf51memo/" title="メモ" class="md-nav__link">
      メモ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../serialization/" title="Serialization" class="md-nav__link">
      Serialization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../soft/" title="SoftDeviceを有効にする" class="md-nav__link">
      SoftDeviceを有効にする
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-23" type="checkbox" id="nav-8-23" checked>
    
    <label class="md-nav__link" for="nav-8-23">
      Ses
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Ses" data-md-level="2">
      <label class="md-nav__title" for="nav-8-23">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Ses
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../001_template/" title="Projectの設定" class="md-nav__link">
      Projectの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../002_led/" title="LEDの点灯" class="md-nav__link">
      LEDの点灯
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../003_log/" title="LOGの出力" class="md-nav__link">
      LOGの出力
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../005_softdevice/" title="SoftDeviceの焼き込み" class="md-nav__link">
      SoftDeviceの焼き込み
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../006_power/" title="PowerManage" class="md-nav__link">
      PowerManage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../007_init_ble/" title="BLE Stackの初期化" class="md-nav__link">
      BLE Stackの初期化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../008_advdata/" title="AdvDataの設定" class="md-nav__link">
      AdvDataの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../009_advstart/" title="Advertisingの開始" class="md-nav__link">
      Advertisingの開始
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Sample(222 Environment)
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Sample(222 Environment)" class="md-nav__link md-nav__link--active">
      Sample(222 Environment)
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      目次
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-option" class="md-nav__link">
    Build Option
  </a>
  
    <nav class="md-nav" aria-label="Build Option">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preprocessor" class="md-nav__link">
    Preprocessor
  </a>
  
    <nav class="md-nav" aria-label="Preprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preprocessor-definitions" class="md-nav__link">
    Preprocessor Definitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-include-directories" class="md-nav__link">
    User Include Directories
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linker" class="md-nav__link">
    Linker
  </a>
  
    <nav class="md-nav" aria-label="Linker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linker-symbol-definitions" class="md-nav__link">
    Linker Symbol Definitions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    Build
  </a>
  
    <nav class="md-nav" aria-label="Build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memory-segments" class="md-nav__link">
    Memory Segments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-generation" class="md-nav__link">
    Code Generation
  </a>
  
    <nav class="md-nav" aria-label="Code Generation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arm-fp-abi-type" class="md-nav__link">
    ARM FP ABI Type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loader" class="md-nav__link">
    Loader
  </a>
  
    <nav class="md-nav" aria-label="Loader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-load-file0" class="md-nav__link">
    Additional Load File[0]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sdk-source-code" class="md-nav__link">
    SDK Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linker-scriptsegger_flashicf" class="md-nav__link">
    Linker Script(SEGGER_Flash.icf)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-code" class="md-nav__link">
    Sample Code
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      7.FaBoBrick(ANA)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="7.FaBoBrick(ANA)" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        7.FaBoBrick(ANA)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/" title="FaBo Analog Bricks" class="md-nav__link">
      FaBo Analog Bricks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/101_brick_analog_led/" title="101 LED Brick" class="md-nav__link">
      101 LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/102_brick_analog_buzzer/" title="102 Buzzer Brick" class="md-nav__link">
      102 Buzzer Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/103_brick_analog_button/" title="103 Button Brick" class="md-nav__link">
      103 Button Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/104_brick_analog_angle/" title="104 Angle Brick" class="md-nav__link">
      104 Angle Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/105_brick_analog_vibrator/" title="105 Vibrator Brick" class="md-nav__link">
      105 Vibrator Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/106_brick_analog_touch/" title="106 Touch Brick" class="md-nav__link">
      106 Touch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/107_brick_analog_limitswitch/" title="107 LimitSwitch Brick" class="md-nav__link">
      107 LimitSwitch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/108_brick_analog_temperature/" title="108 Temperature Brick" class="md-nav__link">
      108 Temperature Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/109_brick_analog_ambientlinght/" title="109 AmbientLinght Brick" class="md-nav__link">
      109 AmbientLinght Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/110_brick_analog_tilt/" title="110 Tilt Brick" class="md-nav__link">
      110 Tilt Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/112_brick_analog_ir_led/" title="121 IR_LED Brick" class="md-nav__link">
      121 IR_LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/113_brick_analog_IR_receiver/" title="113 IR_RECEVER Brick" class="md-nav__link">
      113 IR_RECEVER Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/116_brick_analog_distance/" title="116 Distance Brick" class="md-nav__link">
      116 Distance Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/117_brick_analog_slideswitch/" title="117 Switch Brick" class="md-nav__link">
      117 Switch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/118_brick_analog_hall%20/" title="118 Hall Brick" class="md-nav__link">
      118 Hall Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/119_brick_analog_relector/" title="119 Reflector Brick" class="md-nav__link">
      119 Reflector Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/120_brick_analog_button/" title="120 Button Brick" class="md-nav__link">
      120 Button Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-19" type="checkbox" id="nav-9-19">
    
    <label class="md-nav__link" for="nav-9-19">
      Ses
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Ses" data-md-level="2">
      <label class="md-nav__title" for="nav-9-19">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Ses
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/101_brick_analog_led/" title="101 LED Brick" class="md-nav__link">
      101 LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/102_brick_analog_buzzer/" title="102 Buzzer Brick" class="md-nav__link">
      102 Buzzer Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/103_brick_analog_button/" title="103 Button Brick" class="md-nav__link">
      103 Button Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/104_brick_analog_angle/" title="104 Angle Brick" class="md-nav__link">
      104 Angle Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/105_brick_analog_vibrator/" title="105 Vibrator Brick" class="md-nav__link">
      105 Vibrator Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/106_brick_analog_touch/" title="106 Touch Brick" class="md-nav__link">
      106 Touch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/107_brick_analog_limitswitch/" title="107 LimitSwitch Brick" class="md-nav__link">
      107 LimitSwitch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/108_brick_analog_temperature/" title="108 Temperature Brick" class="md-nav__link">
      108 Temperature Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/109_brick_analog_ambientlinght/" title="109 AmbientLinght Brick" class="md-nav__link">
      109 AmbientLinght Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/110_brick_analog_tilt/" title="110 Tilt Brick" class="md-nav__link">
      110 Tilt Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/112_brick_analog_ir_led/" title="121 IR_LED Brick" class="md-nav__link">
      121 IR_LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/113_brick_analog_IR_receiver/" title="113 IR_RECEVER Brick" class="md-nav__link">
      113 IR_RECEVER Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.FaBoBrick%28ANA%29/ses/116_brick_analog_distance/" title="116 Distance Brick" class="md-nav__link">
      116 Distance Brick
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      8.FaBoBrick(I2C)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="8.FaBoBrick(I2C)" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        8.FaBoBrick(I2C)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/201_brick_i2c_3Aix/" title="201 3Aixs I2C Brick" class="md-nav__link">
      201 3Aixs I2C Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/202_brick_i2c_9Aix/" title="202 9Aixs I2C Brick" class="md-nav__link">
      202 9Aixs I2C Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/204_brick_i2c_barometer/" title="204 Barometer Brick" class="md-nav__link">
      204 Barometer Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/205_brick_i2c_proximity/" title="205 Proximity Brick" class="md-nav__link">
      205 Proximity Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/207_brick_i2c_Temprature/" title="207 temperature Brick" class="md-nav__link">
      207 temperature Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/210_brick_i2c_GPIO/" title="210 GPIO I2C Brick" class="md-nav__link">
      210 GPIO I2C Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../8.FaBoBrick%28I2C%29/213_brick_i2c_LCDMini/" title="213 LCD_Mini Brick" class="md-nav__link">
      213 LCD_Mini Brick
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      9.FaBoBrick(Serial)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="9.FaBoBrick(Serial)" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        9.FaBoBrick(Serial)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../9.FaBoBrick%28Serial%29/302Buletooth_Serial/" title="302 Buletooth Serial Brick" class="md-nav__link">
      302 Buletooth Serial Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../9.FaBoBrick%28Serial%29/304USB_Serial/" title="304 USB Serial Brick" class="md-nav__link">
      304 USB Serial Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../9.FaBoBrick%28Serial%29/305Wifi_Serial/" title="305 Wifi Serial Brick" class="md-nav__link">
      305 Wifi Serial Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../9.FaBoBrick%28Serial%29/NUS/" title="NUS" class="md-nav__link">
      NUS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      A.省電力
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="A.省電力" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        A.省電力
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../a.%E7%9C%81%E9%9B%BB%E5%8A%9B/PowerMeasure/" title="電力測定の方法" class="md-nav__link">
      電力測定の方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../a.%E7%9C%81%E9%9B%BB%E5%8A%9B/PowerMeasureNotes/" title="PowerMeasureNotes" class="md-nav__link">
      PowerMeasureNotes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../a.%E7%9C%81%E9%9B%BB%E5%8A%9B/lowenergy/" title="省電力メモ" class="md-nav__link">
      省電力メモ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      b.Shinobi
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="b.Shinobi" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        b.Shinobi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/10_Shinobi_GridEye/" title="10 Shinobi_GridEye" class="md-nav__link">
      10 Shinobi_GridEye
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/12_Shinobi_Battery_TPS63000/" title="Shinobi_USB_Battery(TPS63000)" class="md-nav__link">
      Shinobi_USB_Battery(TPS63000)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/1_Shinobi_NRF/" title="1 Shinobi_NRF" class="md-nav__link">
      1 Shinobi_NRF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/2_Shinobi_Battery/" title="Shinobi_Battery" class="md-nav__link">
      Shinobi_Battery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/3_Shinobi_SolarLipoCharger/" title="3 Shinobi_Solar" class="md-nav__link">
      3 Shinobi_Solar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/4_Shinobi_ANA6/" title="4 Shinobi_ANA6" class="md-nav__link">
      4 Shinobi_ANA6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/5_Shinobi_Motor/" title="5 Shinobi Motor" class="md-nav__link">
      5 Shinobi Motor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/8_Shinobi_USB_Battery_LDO/" title="Shinobi_USB_Battery(リニアレギュレーター)" class="md-nav__link">
      Shinobi_USB_Battery(リニアレギュレーター)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/99_Shinobi_I2C_Expand/" title="99 Shinobi_I2C Expand" class="md-nav__link">
      99 Shinobi_I2C Expand
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/9_Shinobi_USB_Battery_LM3671/" title="Shinobi_USB_Battery(LM3671)" class="md-nav__link">
      Shinobi_USB_Battery(LM3671)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/Li-PoBattery/" title="Lipo Battery" class="md-nav__link">
      Lipo Battery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/Shinobi_NFC/" title="Solar_NFC" class="md-nav__link">
      Solar_NFC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/Solarpanel_Medium/" title="Shinobi_Solar_Pannel(Round)" class="md-nav__link">
      Shinobi_Solar_Pannel(Round)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/Solarpanel_Round/" title="Solar_Pannel(Midium)" class="md-nav__link">
      Solar_Pannel(Midium)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../b.Shinobi/recognize/" title="認識させるコツ" class="md-nav__link">
      認識させるコツ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      c.BLE Module
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="c.BLE Module" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        c.BLE Module
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/modulebroadcom/" title="Broadcom" class="md-nav__link">
      Broadcom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/modulecsr/" title="CSR" class="md-nav__link">
      CSR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/modulecypress/" title="Cypress" class="md-nav__link">
      Cypress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/moduledialog/" title="Dialog" class="md-nav__link">
      Dialog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/moduleetc/" title="その他" class="md-nav__link">
      その他
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/modulenordic/" title="Nordic Semiconductor" class="md-nav__link">
      Nordic Semiconductor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/modulesiliconlab/" title="SiliconLabs" class="md-nav__link">
      SiliconLabs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../c.BLE%20Module/moduleti/" title="TI" class="md-nav__link">
      TI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      D.chip
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="D.chip" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        D.chip
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../d.chip/bl42/" title="Bluetooth 4.2" class="md-nav__link">
      Bluetooth 4.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../d.chip/chip/" title="BLEチップ" class="md-nav__link">
      BLEチップ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../d.chip/chiplist/" title="BLEチップ" class="md-nav__link">
      BLEチップ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../d.chip/chipspec/" title="BLEチップの感度比較" class="md-nav__link">
      BLEチップの感度比較
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../d.chip/loralist/" title="LoRaチップ" class="md-nav__link">
      LoRaチップ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../d.chip/sensor/" title="Sensor SoCチップ" class="md-nav__link">
      Sensor SoCチップ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      f.Bluetooth
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="f.Bluetooth" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        f.Bluetooth
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../f.Bluetooth/bleregist/" title="Bluetooth認証" class="md-nav__link">
      Bluetooth認証
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      目次
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-option" class="md-nav__link">
    Build Option
  </a>
  
    <nav class="md-nav" aria-label="Build Option">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preprocessor" class="md-nav__link">
    Preprocessor
  </a>
  
    <nav class="md-nav" aria-label="Preprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preprocessor-definitions" class="md-nav__link">
    Preprocessor Definitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-include-directories" class="md-nav__link">
    User Include Directories
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linker" class="md-nav__link">
    Linker
  </a>
  
    <nav class="md-nav" aria-label="Linker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linker-symbol-definitions" class="md-nav__link">
    Linker Symbol Definitions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    Build
  </a>
  
    <nav class="md-nav" aria-label="Build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memory-segments" class="md-nav__link">
    Memory Segments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-generation" class="md-nav__link">
    Code Generation
  </a>
  
    <nav class="md-nav" aria-label="Code Generation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arm-fp-abi-type" class="md-nav__link">
    ARM FP ABI Type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loader" class="md-nav__link">
    Loader
  </a>
  
    <nav class="md-nav" aria-label="Loader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-load-file0" class="md-nav__link">
    Additional Load File[0]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sdk-source-code" class="md-nav__link">
    SDK Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linker-scriptsegger_flashicf" class="md-nav__link">
    Linker Script(SEGGER_Flash.icf)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-code" class="md-nav__link">
    Sample Code
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="sample222-environment">Sample(222 Environment)</h1>
<h2 id="build-option">Build Option</h2>
<h3 id="preprocessor">Preprocessor</h3>
<h4 id="preprocessor-definitions">Preprocessor Definitions</h4>
<table>
<thead>
<tr>
<th align="left">Preprocessor Definitions</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">NRF52832_XXAB</td>
</tr>
<tr>
<td align="left">BOARD_CUSTOM</td>
</tr>
<tr>
<td align="left">NRFX_TWI_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_TWI0_ENABLED</td>
</tr>
<tr>
<td align="left">TWI_ENABLED</td>
</tr>
<tr>
<td align="left">TWI0_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_RTC_ENABLED</td>
</tr>
<tr>
<td align="left">RTC_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_RTC1_ENABLED</td>
</tr>
<tr>
<td align="left">RTC1_ENABLED</td>
</tr>
<tr>
<td align="left">SOFTDEVICE_PRESENT</td>
</tr>
</tbody>
</table>
<h4 id="user-include-directories">User Include Directories</h4>
<table>
<thead>
<tr>
<th align="left">User Include Directories</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">../nRF5_SDK/components/libraries/mutex</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/ble/common</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/softdevice/s132/headers</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/softdevice/common</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/pwr_mgmt</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/button</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/hal</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/boards</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/bsp</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src/prs</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/ringbuf</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/external/fprintf</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/atomic</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/balloc</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/memobj</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/strerror</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/experimental_section_vars</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/log</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/delay</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/include</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/integration/nrfx</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/integration/nrfx/legacy</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/drivers_nrf/nrf_soc_nosd</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/toolchain/cmsis/include</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/mdk</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/util</td>
</tr>
<tr>
<td align="left">.</td>
</tr>
</tbody>
</table>
<h3 id="linker">Linker</h3>
<h4 id="linker-symbol-definitions">Linker Symbol Definitions</h4>
<table>
<thead>
<tr>
<th align="left">Linker Symbol Definitions</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>app_ram_start</strong>=app_ram_start$$Base</td>
</tr>
<tr>
<td align="left">__start_sdh_req_observers=sdh_req_observers$$Base</td>
</tr>
<tr>
<td align="left">__stop_sdh_req_observers=sdh_req_observers$$Limit</td>
</tr>
<tr>
<td align="left">__start_sdh_state_observers=sdh_state_observers$$Base</td>
</tr>
<tr>
<td align="left">__stop_sdh_state_observers=sdh_state_observers$$Limit</td>
</tr>
<tr>
<td align="left">__start_pwr_mgmt_data=pwr_mgmt_data$$Base</td>
</tr>
<tr>
<td align="left">__stop_pwr_mgmt_data=pwr_mgmt_data$$Limit</td>
</tr>
<tr>
<td align="left">__start_log_const_data=log_const_data$$Base</td>
</tr>
<tr>
<td align="left">__start_log_dynamic_data=log_dynamic_data$$Base</td>
</tr>
<tr>
<td align="left">__stop_log_const_data=log_const_data$$Limit</td>
</tr>
</tbody>
</table>
<h3 id="build">Build</h3>
<h4 id="memory-segments">Memory Segments</h4>
<p>FLASH RX 0x00026000 0x0005A000</p>
<p>RAM RWX 0x20002210 0x0000DDF0</p>
<h3 id="code-generation">Code Generation</h3>
<h4 id="arm-fp-abi-type">ARM FP ABI Type</h4>
<p>Hard -&gt; Softに変更</p>
<h3 id="loader">Loader</h3>
<h4 id="additional-load-file0">Additional Load File[0]</h4>
<table>
<thead>
<tr>
<th align="left">Additional Load File[0]</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">(SDK_PATH)/components/softdevice/s132/hex/s132_nrf52_6.1.0_softdevice.hex</td>
</tr>
</tbody>
</table>
<h2 id="sdk-source-code">SDK Source Code</h2>
<table>
<thead>
<tr>
<th align="left">SDK Source Code</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">(SDK_PATH)/components/libraries/util/app_error.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/util/app_error_handler_gcc.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/util/app_error_weak.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/util/app_util_platform.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/ble/common/ble_advdata.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/boards/boards.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/atomic/nrf_atomic.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/balloc/nrf_balloc.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/integration/nrfx/legacy/nrf_drv_clock.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/integration/nrfx/legacy/nrf_drv_twi.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/integration/nrfx/legacy/nrf_drv_uart.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/external/fprintf/nrf_fprintf.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/external/fprintf/nrf_fprintf_format.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/log/src/nrf_log_backend_serial.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/log/src/nrf_log_backend_uart.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/log/src/nrf_log_default_backends.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/log/src/nrf_log_frontend.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/log/src/nrf_log_str_formatter.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/memobj/nrf_memobj.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/pwr_mgmt/nrf_pwr_mgmt.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/ringbuf/nrf_ringbuf.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/softdevice/common/nrf_sdh.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/softdevice/common/nrf_sdh_ble.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/experimental_section_vars/nrf_section_iter.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/components/libraries/strerror/nrf_strerror.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/modules/nrfx/drivers/src/nrfx_clock.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/modules/nrfx/drivers/src/prs/nrfx_prs.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/modules/nrfx/drivers/src/nrfx_rtc.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/modules/nrfx/drivers/src/nrfx_twi.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/modules/nrfx/drivers/src/nrfx_uart.c</td>
</tr>
<tr>
<td align="left">(SDK_PATH)/modules/nrfx/drivers/src/nrfx_uarte.c</td>
</tr>
</tbody>
</table>
<h2 id="linker-scriptsegger_flashicf">Linker Script(SEGGER_Flash.icf)</h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1">// **********************************************************************</span>
<span class="c1">// *                    SEGGER Microcontroller GmbH                     *</span>
<span class="c1">// *                        The Embedded Experts                        *</span>
<span class="c1">// **********************************************************************</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// *            (c) 2014 - 2018 SEGGER Microcontroller GmbH             *</span>
<span class="c1">// *            (c) 2001 - 2018 Rowley Associates Limited               *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// *           www.segger.com     Support: support@segger.com           *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// **********************************************************************</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * All rights reserved.                                               *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * Redistribution and use in source and binary forms, with or         *</span>
<span class="c1">// * without modification, are permitted provided that the following    *</span>
<span class="c1">// * conditions are met:                                                *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * - Redistributions of source code must retain the above copyright   *</span>
<span class="c1">// *   notice, this list of conditions and the following disclaimer.    *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * - Neither the name of SEGGER Microcontroller GmbH                  *</span>
<span class="c1">// *   nor the names of its contributors may be used to endorse or      *</span>
<span class="c1">// *   promote products derived from this software without specific     *</span>
<span class="c1">// *   prior written permission.                                        *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND             *</span>
<span class="c1">// * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,        *</span>
<span class="c1">// * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF           *</span>
<span class="c1">// * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE           *</span>
<span class="c1">// * DISCLAIMED.                                                        *</span>
<span class="c1">// * IN NO EVENT SHALL SEGGER Microcontroller GmbH BE LIABLE FOR        *</span>
<span class="c1">// * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR           *</span>
<span class="c1">// * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT  *</span>
<span class="c1">// * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;    *</span>
<span class="c1">// * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF      *</span>
<span class="c1">// * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT          *</span>
<span class="c1">// * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE  *</span>
<span class="c1">// * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH   *</span>
<span class="c1">// * DAMAGE.                                                            *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// **********************************************************************</span>

<span class="n">define</span> <span class="n">memory</span> <span class="n">with</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span><span class="n">G</span><span class="p">;</span>
<span class="c1">//</span>
<span class="c1">// Block definitions</span>
<span class="c1">//</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">ctors</span> <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">ctors</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">ctors</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="n">block</span> <span class="n">with</span> <span class="n">alphabetical</span> <span class="n">order</span> <span class="p">{</span> <span class="n">init_array</span> <span class="p">}</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">dtors</span> <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">dtors</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">dtors</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="n">block</span> <span class="n">with</span> <span class="n">reverse</span> <span class="n">alphabetical</span> <span class="n">order</span> <span class="p">{</span> <span class="n">fini_array</span> <span class="p">}</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">exidx</span> <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">ARM</span><span class="p">.</span><span class="n">exidx</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">ARM</span><span class="p">.</span><span class="n">exidx</span><span class="p">.</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">tbss</span>  <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">tbss</span><span class="p">,</span>  <span class="n">section</span> <span class="p">.</span><span class="n">tbss</span><span class="p">.</span><span class="o">*</span>  <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">tdata</span> <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">tdata</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">tdata</span><span class="p">.</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">tls</span>   <span class="p">{</span> <span class="n">block</span> <span class="n">tbss</span><span class="p">,</span> <span class="n">block</span> <span class="n">tdata</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">tdata_load</span> <span class="p">{</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">block</span> <span class="n">tdata</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">heap</span>  <span class="n">with</span> <span class="n">size</span> <span class="o">=</span> <span class="n">__HEAPSIZE__</span><span class="p">,</span>  <span class="n">alignment</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="cm">/* fill =0x00, */</span> <span class="n">readwrite</span> <span class="n">access</span> <span class="p">{</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">stack</span> <span class="n">with</span> <span class="n">size</span> <span class="o">=</span> <span class="n">__STACKSIZE__</span><span class="p">,</span> <span class="n">alignment</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="cm">/* fill =0xCD, */</span> <span class="n">readwrite</span> <span class="n">access</span> <span class="p">{</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">log_const_data</span>      <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">log_const_data</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">log_dynamic_data</span>    <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">log_dynamic_data</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">pwr_mgmt_data</span>       <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">pwr_mgmt_data</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">app_ram_start</span>       <span class="p">{</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">sdh_req_observers</span>   <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">sdh_req_observers</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">sdh_state_observers</span> <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">sdh_state_observers</span><span class="o">*</span> <span class="p">};</span>
<span class="c1">//</span>
<span class="c1">// Explicit initialization settings for sections</span>
<span class="c1">//</span>
<span class="k">do</span> <span class="n">not</span> <span class="n">initialize</span>                           <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">non_init</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">non_init</span><span class="p">.</span><span class="o">*</span> <span class="p">};</span>
<span class="n">initialize</span> <span class="n">by</span> <span class="n">copy</span> <span class="cm">/* with packing=auto */</span>  <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">data</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="o">*</span> <span class="p">};</span>
<span class="n">initialize</span> <span class="n">by</span> <span class="n">copy</span> <span class="cm">/* with packing=auto */</span>  <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">fast</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">fast</span><span class="p">.</span><span class="o">*</span> <span class="p">};</span>
<span class="c1">//</span>
<span class="c1">// ROM Placement</span>
<span class="c1">//</span>
<span class="n">place</span> <span class="n">at</span> <span class="n">start</span> <span class="n">of</span> <span class="n">FLASH</span>                 <span class="p">{</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">vectors</span>                         <span class="c1">// Vector table section</span>
                                        <span class="p">};</span>
<span class="n">place</span> <span class="n">in</span> <span class="n">FLASH</span> <span class="n">with</span> <span class="n">minimum</span> <span class="n">size</span> <span class="n">order</span>  <span class="p">{</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">init</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">init</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>          <span class="c1">// Init code section</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>          <span class="c1">// Code section</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">rodata</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">rodata</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>      <span class="c1">// Read-only data section</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">segger</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>                       <span class="c1">// Auto-generated initialization</span>
                                           <span class="n">block</span> <span class="n">exidx</span><span class="p">,</span>                             <span class="c1">// ARM exception unwinding block</span>
                                           <span class="n">block</span> <span class="n">ctors</span><span class="p">,</span>                             <span class="c1">// Constructors block</span>
                                           <span class="n">block</span> <span class="n">dtors</span>                              <span class="c1">// Destructors block</span>
                                         <span class="p">};</span>
<span class="n">place</span> <span class="n">in</span> <span class="n">FLASH</span>                           <span class="p">{</span>
                                           <span class="n">block</span> <span class="n">tdata_load</span><span class="p">,</span>                       <span class="c1">// Thread-local-storage load image</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">nrf_balloc</span><span class="p">,</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">log_backends</span><span class="p">,</span>
                                           <span class="n">block</span> <span class="n">log_const_data</span><span class="p">,</span>
                                           <span class="n">block</span> <span class="n">log_dynamic_data</span><span class="p">,</span>
                                           <span class="n">block</span> <span class="n">pwr_mgmt_data</span><span class="p">,</span>
                                           <span class="n">block</span> <span class="n">sdh_req_observers</span><span class="p">,</span>
                                           <span class="n">block</span> <span class="n">sdh_state_observers</span>
                                         <span class="p">};</span>
<span class="c1">//                                      </span>
<span class="c1">// RAM Placement                        </span>
<span class="c1">//                                      </span>
<span class="n">place</span> <span class="n">in</span> <span class="n">RAM</span>                             <span class="p">{</span>                                          <span class="c1">// Special sections</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">non_init</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">non_init</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>  <span class="c1">// No initialization section</span>
                                           <span class="n">block</span> <span class="n">tls</span><span class="p">,</span>                               <span class="c1">// Thread-local-storage block</span>
                                           <span class="n">block</span> <span class="n">app_ram_start</span>
                                         <span class="p">};</span>
<span class="n">place</span> <span class="n">in</span> <span class="n">RAM</span> <span class="n">with</span> <span class="k">auto</span> <span class="n">order</span>             <span class="p">{</span>                                          <span class="c1">// Initialized sections</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">fast</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">fast</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>          <span class="c1">// &quot;ramfunc&quot; section</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">data</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>          <span class="c1">// Initialized data section</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">bss</span><span class="p">,</span> <span class="n">section</span> <span class="p">.</span><span class="n">bss</span><span class="p">.</span><span class="o">*</span>             <span class="c1">// Static data section</span>
                                         <span class="p">};</span>
<span class="n">place</span> <span class="n">in</span> <span class="n">RAM</span>                             <span class="p">{</span>
                                           <span class="cm">/* expandable */</span> <span class="n">block</span> <span class="n">heap</span>              <span class="c1">// Heap reserved block</span>
                                         <span class="p">};</span>
<span class="n">place</span> <span class="n">at</span> <span class="n">end</span> <span class="n">of</span> <span class="n">RAM</span>                      <span class="p">{</span>
                                           <span class="n">block</span> <span class="n">stack</span>                              <span class="c1">// Stack reserved block at the end</span>
                                         <span class="p">};</span>
</code></pre></div>
</td></tr></table>

<h2 id="sample-code">Sample Code</h2>
<p>main.c</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#define NRF_LOG_MODULE_NAME MAIN</span>
<span class="cp">#include</span> <span class="cpf">&quot;app_error.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;bsp.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_pwr_mgmt.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log_ctrl.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;bsec_integration.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_log.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_twi.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_bsec.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_ble.h&quot;</span><span class="cp"></span>

<span class="cp">#define LED1                            BSP_BOARD_LED_0</span>
<span class="cp">#define TEMP_OFFSET                     0.0f</span>

<span class="n">NRF_LOG_MODULE_REGISTER</span><span class="p">();</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">return_values_init</span>  <span class="n">rc_init</span><span class="p">;</span>
    <span class="n">bsec_version_t</span>      <span class="n">bsec_version</span><span class="p">;</span>

    <span class="n">app_log_init</span><span class="p">();</span>

    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;ble advertising + bsec sample&quot;</span><span class="p">);</span>

    <span class="n">bsp_board_init</span><span class="p">(</span><span class="n">BSP_INIT_LEDS</span><span class="p">);</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_pwr_mgmt_init</span><span class="p">());</span>
    <span class="n">app_ble_stack_init</span><span class="p">();</span>
    <span class="n">app_twi_init</span><span class="p">();</span>
    <span class="n">app_bsec_rtc_init</span><span class="p">();</span>

    <span class="n">bsec_get_version</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bsec_version</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;bsec_version.major        : %d&quot;</span><span class="p">,</span> <span class="n">bsec_version</span><span class="p">.</span><span class="n">major</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;bsec_version.minor        : %d&quot;</span><span class="p">,</span> <span class="n">bsec_version</span><span class="p">.</span><span class="n">minor</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;bsec_version.major_bugfix : %d&quot;</span><span class="p">,</span> <span class="n">bsec_version</span><span class="p">.</span><span class="n">major_bugfix</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;bsec_version.minor_bugfix : %d&quot;</span><span class="p">,</span> <span class="n">bsec_version</span><span class="p">.</span><span class="n">minor_bugfix</span><span class="p">);</span>

    <span class="n">rc_init</span> <span class="o">=</span> <span class="n">bsec_iot_init</span><span class="p">(</span><span class="n">BSEC_SAMPLE_RATE_LP</span><span class="p">,</span> <span class="n">TEMP_OFFSET</span><span class="p">,</span> <span class="n">app_twi_tx_func</span><span class="p">,</span> <span class="n">app_twi_rx_func</span><span class="p">,</span> <span class="n">app_bsec_sleep</span><span class="p">,</span> <span class="n">app_bsec_state_load</span><span class="p">,</span> <span class="n">app_bsec_config_load</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;rc_init.bme680_status : %d&quot;</span><span class="p">,</span> <span class="n">rc_init</span><span class="p">.</span><span class="n">bme680_status</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;rc_init.bsec_status   : %d&quot;</span><span class="p">,</span> <span class="n">rc_init</span><span class="p">.</span><span class="n">bsec_status</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="n">rc_init</span><span class="p">.</span><span class="n">bme680_status</span> <span class="o">==</span> <span class="n">BSEC_OK</span> <span class="o">&amp;&amp;</span> <span class="n">rc_init</span><span class="p">.</span><span class="n">bsec_status</span> <span class="o">==</span> <span class="n">BSEC_OK</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">bsec_iot_loop</span><span class="p">(</span><span class="n">app_bsec_sleep</span><span class="p">,</span> <span class="n">app_bsec_get_timestamp</span><span class="p">,</span> <span class="n">app_bsec_output</span><span class="p">,</span> <span class="n">app_bsec_state_save</span><span class="p">,</span> <span class="mi">10000</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>app_log.h</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#ifndef _APP_LOG_H</span>
<span class="cp">#define _APP_LOG_H</span>

<span class="kt">void</span>    <span class="nf">app_log_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif</span>
</code></pre></div>
</td></tr></table>

<p>app_log.c</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&quot;app_error.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log_ctrl.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log_default_backends.h&quot;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&quot;app_log.h&quot;</span><span class="cp"></span>

<span class="kt">void</span>    <span class="nf">app_log_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">NRF_LOG_INIT</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
    <span class="n">NRF_LOG_DEFAULT_BACKENDS_INIT</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>app_twi.h</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#ifndef _APP_TWI_H</span>
<span class="cp">#define _APP_TWI_H</span>

<span class="kt">void</span>    <span class="nf">app_twi_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int8_t</span>  <span class="nf">app_twi_tx_func</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">dev_addr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">reg_addr</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="o">*</span> <span class="n">tx_buff_addr</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">tx_data_size</span><span class="p">);</span>
<span class="kt">int8_t</span>  <span class="nf">app_twi_rx_func</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">dev_addr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">reg_addr</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="o">*</span> <span class="n">rx_buff_addr</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">rx_data_size</span><span class="p">);</span>

<span class="cp">#endif</span>
</code></pre></div>
</td></tr></table>

<p>app_twi.c</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#define NRF_LOG_MODULE_NAME APP_TWI</span>
<span class="cp">#include</span> <span class="cpf">&quot;app_error.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_twi.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_twi.h&quot;</span><span class="cp"></span>

<span class="cp">#define ARDUINO_SCL_PIN 27</span>
<span class="cp">#define ARDUINO_SDA_PIN 26</span>

<span class="k">static</span> <span class="n">nrf_drv_twi_t</span>    <span class="n">app_twi_instance</span>    <span class="o">=</span>   <span class="n">NRF_DRV_TWI_INSTANCE</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">static</span> <span class="k">volatile</span> <span class="kt">bool</span>    <span class="n">app_twi_xfer_done</span>   <span class="o">=</span>   <span class="nb">false</span><span class="p">;</span>
<span class="n">NRF_LOG_MODULE_REGISTER</span><span class="p">();</span>

<span class="kt">void</span>    <span class="nf">app_twi_event_handler</span><span class="p">(</span><span class="n">nrf_drv_twi_evt_t</span> <span class="k">const</span><span class="o">*</span> <span class="n">a_event</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">a_context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_event_handler() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;a_event-&gt;type = %d&quot;</span><span class="p">,</span> <span class="n">a_event</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">);</span>
    <span class="k">switch</span><span class="p">(</span><span class="n">a_event</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nl">NRF_DRV_TWI_EVT_DONE</span><span class="p">:</span>
            <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_xfer_done = %d&quot;</span><span class="p">,</span> <span class="n">app_twi_xfer_done</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">app_twi_xfer_done</span> <span class="o">==</span> <span class="nb">false</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">app_twi_xfer_done</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_event_handler() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_twi_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_init() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">nrf_drv_twi_config_t</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">scl</span>                <span class="o">=</span> <span class="n">ARDUINO_SCL_PIN</span><span class="p">,</span>
        <span class="p">.</span><span class="n">sda</span>                <span class="o">=</span> <span class="n">ARDUINO_SDA_PIN</span><span class="p">,</span>
        <span class="p">.</span><span class="n">frequency</span>          <span class="o">=</span> <span class="n">NRF_TWI_FREQ_400K</span><span class="p">,</span>
        <span class="p">.</span><span class="n">interrupt_priority</span> <span class="o">=</span> <span class="n">APP_IRQ_PRIORITY_HIGH</span><span class="p">,</span>
        <span class="p">.</span><span class="n">clear_bus_init</span>     <span class="o">=</span> <span class="nb">false</span>
    <span class="p">};</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_twi_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_twi_instance</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">config</span><span class="p">,</span> <span class="n">app_twi_event_handler</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">));</span>
    <span class="n">nrf_drv_twi_enable</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_twi_instance</span><span class="p">);</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_init() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int8_t</span>  <span class="nf">app_twi_tx_func</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">dev_id</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">reg_addr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">tx_buf</span><span class="p">[</span><span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_tx_func() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;dev_id   : %02X&quot;</span><span class="p">,</span> <span class="n">dev_id</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;reg_addr : %02X&quot;</span><span class="p">,</span> <span class="n">reg_addr</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;data     : %08X&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;len      : %d&quot;</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>

    <span class="n">memset</span><span class="p">(</span><span class="n">tx_buf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>

    <span class="n">tx_buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">reg_addr</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">memcpy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tx_buf</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">NRF_LOG_HEXDUMP_DEBUG</span><span class="p">(</span><span class="n">tx_buf</span><span class="p">,</span> <span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>

    <span class="n">app_twi_xfer_done</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_twi_tx</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_twi_instance</span><span class="p">,</span> <span class="n">dev_id</span><span class="p">,</span> <span class="n">tx_buf</span><span class="p">,</span> <span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span>
    <span class="k">while</span><span class="p">(</span><span class="n">app_twi_xfer_done</span> <span class="o">==</span> <span class="nb">false</span><span class="p">);</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_tx_func() ### END ###&quot;</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int8_t</span>  <span class="nf">app_twi_rx_func</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">dev_id</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">reg_addr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_rx_func() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;dev_id   : %02X&quot;</span><span class="p">,</span> <span class="n">dev_id</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;reg_addr : %02X&quot;</span><span class="p">,</span> <span class="n">reg_addr</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;data     : %08X&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;len      : %d&quot;</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>

    <span class="n">memset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>

    <span class="n">app_twi_tx_func</span><span class="p">(</span><span class="n">dev_id</span><span class="p">,</span> <span class="n">reg_addr</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="n">app_twi_xfer_done</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_twi_rx</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_twi_instance</span><span class="p">,</span> <span class="n">dev_id</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">len</span><span class="p">));</span>
    <span class="k">while</span><span class="p">(</span><span class="n">app_twi_xfer_done</span> <span class="o">==</span> <span class="nb">false</span><span class="p">);</span>

    <span class="n">NRF_LOG_HEXDUMP_DEBUG</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_twi_rx_func() ### END ###&quot;</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>app_bsec.h</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#ifndef _APP_BSEC_H</span>
<span class="cp">#define _APP_BSEC_H</span>

<span class="kt">void</span>        <span class="nf">app_bsec_output</span><span class="p">(</span><span class="kt">int64_t</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="n">bsec_library_return_t</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="kt">float</span><span class="p">);</span>
<span class="kt">void</span>        <span class="nf">app_bsec_state_save</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">int64_t</span>     <span class="nf">app_bsec_get_timestamp</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span>        <span class="nf">app_bsec_sleep</span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">uint32_t</span>    <span class="nf">app_bsec_state_load</span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">uint32_t</span>    <span class="nf">app_bsec_config_load</span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span>        <span class="nf">app_bsec_rtc_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif</span>
</code></pre></div>
</td></tr></table>

<p>app_bsec.c</p>
<ul>
<li>SoftDevice有効時にRTC1を使う場合、CLOCK関連の初期化はSoftDeviceが実施するので、APL側でやってはいけない</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#define NRF_LOG_MODULE_NAME APP_BSEC</span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_rtc.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_clock.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_delay.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log_ctrl.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;bsec_integration.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_ble.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_bsec.h&quot;</span><span class="cp"></span>

<span class="n">nrf_drv_rtc_t</span>   <span class="n">app_bsec_rtc</span>                <span class="o">=</span>   <span class="n">NRF_DRV_RTC_INSTANCE</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">uint32_t</span> <span class="n">app_bsec_rtc_ovr_flw_ctr</span>    <span class="o">=</span>   <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">int32_t</span>  <span class="n">app_bsec_rtc_max_ticks</span>      <span class="o">=</span>   <span class="mi">0</span><span class="p">;</span>
<span class="n">NRF_LOG_MODULE_REGISTER</span><span class="p">();</span>

<span class="kt">void</span>    <span class="nf">app_bsec_rtc_handler</span><span class="p">(</span><span class="n">nrf_drv_rtc_int_type_t</span> <span class="n">int_type</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_rtc_handler() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;int_type = %d&quot;</span><span class="p">,</span> <span class="n">int_type</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">int_type</span> <span class="o">==</span> <span class="n">NRF_DRV_RTC_INT_OVERFLOW</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;rtc1 overflow detection.&quot;</span><span class="p">);</span>
        <span class="n">app_bsec_rtc_ovr_flw_ctr</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_rtc_handler() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_bsec_rtc_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">nrf_drv_rtc_config_t</span>    <span class="n">app_bsec_rtc_config</span> <span class="o">=</span> <span class="n">NRF_DRV_RTC_DEFAULT_CONFIG</span><span class="p">;</span>

<span class="cp">#ifndef SOFTDEVICE_PRESENT</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_clock_init</span><span class="p">());</span>

    <span class="n">nrf_drv_clock_lfclk_request</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="cp">#endif</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_rtc_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_bsec_rtc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">app_bsec_rtc_config</span><span class="p">,</span> <span class="n">app_bsec_rtc_handler</span><span class="p">));</span>

    <span class="n">nrf_drv_rtc_enable</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_bsec_rtc</span><span class="p">);</span>

    <span class="n">nrf_drv_rtc_overflow_enable</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_bsec_rtc</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>

    <span class="n">app_bsec_rtc_max_ticks</span> <span class="o">=</span> <span class="n">nrf_drv_rtc_max_ticks_get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_bsec_rtc</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_bsec_output</span><span class="p">(</span>
    <span class="kt">int64_t</span>                 <span class="n">timestamp</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">iaq</span><span class="p">,</span>
    <span class="kt">uint8_t</span>                 <span class="n">iaq_accuracy</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">temperature</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">humidity</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">pressure</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">raw_temperature</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">raw_humidity</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">gas</span><span class="p">,</span>
    <span class="n">bsec_library_return_t</span>   <span class="n">bsec_status</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">static_iaq</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">co2_equivalent</span><span class="p">,</span>
    <span class="kt">float</span>                   <span class="n">breath_voc_equivalent</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_output() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;timestamp             : %lu&quot;</span><span class="p">,</span> <span class="n">timestamp</span> <span class="o">/</span> <span class="mi">10000000</span><span class="p">);</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;iaq                   : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">iaq</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;iaq_accuracy          : %d&quot;</span><span class="p">,</span> <span class="n">iaq_accuracy</span><span class="p">);</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;temperature           : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">temperature</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;humidity              : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">humidity</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;pressure              : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">pressure</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;raw_temperature       : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">raw_temperature</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;raw_humidity          : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">raw_humidity</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;gas                   : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">gas</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;bsec_status           : %d&quot;</span><span class="p">,</span> <span class="n">bsec_status</span><span class="p">);</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;static_iaq            : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">static_iaq</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;co2_equivalent        : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">co2_equivalent</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;breath_voc_equivalent : &quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">breath_voc_equivalent</span><span class="p">));</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_output() ### END ###&quot;</span><span class="p">);</span>
    <span class="n">app_ble_beacon_info_set</span><span class="p">(</span><span class="n">temperature</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="n">humidity</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="n">pressure</span> <span class="o">/</span> <span class="mi">100</span><span class="p">,</span> <span class="n">gas</span><span class="p">,</span> <span class="n">iaq</span> <span class="o">*</span> <span class="mi">100</span><span class="p">);</span>
    <span class="n">app_ble_advertising_start</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_bsec_state_save</span><span class="p">(</span>
    <span class="k">const</span> <span class="kt">uint8_t</span><span class="o">*</span>  <span class="n">a_state</span><span class="p">,</span>
    <span class="kt">uint32_t</span>        <span class="n">len</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_state_save() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;a_state   : 0x%08X&quot;</span><span class="p">,</span> <span class="n">a_state</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;len       : %d&quot;</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_state_save() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int64_t</span> <span class="nf">app_bsec_get_timestamp</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int32_t</span> <span class="n">rtc_counter</span> <span class="o">=</span> <span class="n">nrf_drv_rtc_counter_get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_bsec_rtc</span><span class="p">);</span>
    <span class="kt">float</span>   <span class="n">temp1</span><span class="p">,</span> <span class="n">temp2</span><span class="p">;</span>
    <span class="kt">int64_t</span> <span class="n">ret</span><span class="p">;</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_get_timestamp() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;rtc_counter = %u&quot;</span><span class="p">,</span> <span class="n">rtc_counter</span><span class="p">);</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)((</span><span class="kt">float</span><span class="p">)</span><span class="n">rtc_counter</span> <span class="o">+</span> <span class="p">(</span><span class="kt">float</span><span class="p">)(</span><span class="n">app_bsec_rtc_max_ticks</span> <span class="o">*</span> <span class="n">app_bsec_rtc_ovr_flw_ctr</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">NRFX_RTC_DEFAULT_CONFIG_FREQUENCY</span> <span class="o">*</span> <span class="mi">1000000</span><span class="p">;</span>    

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;ret = %ld&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_get_timestamp() ### END ###&quot;</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_bsec_sleep</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">msec</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_sleep() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;msec = %d&quot;</span><span class="p">,</span> <span class="n">msec</span><span class="p">);</span>
    <span class="n">nrf_delay_ms</span><span class="p">(</span><span class="n">msec</span><span class="p">);</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_sleep() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">uint32_t</span>    <span class="nf">app_bsec_state_load</span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span> <span class="n">a_buf</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">buf_size</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">work_buffer_state</span><span class="p">[</span><span class="n">BSEC_MAX_STATE_BLOB_SIZE</span><span class="p">];</span>
    <span class="kt">uint32_t</span>  <span class="n">n_work_buffer_size</span> <span class="o">=</span> <span class="n">BSEC_MAX_STATE_BLOB_SIZE</span><span class="p">;</span>
    <span class="kt">uint32_t</span>  <span class="n">n_serialized_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_state_load() ### START ###&quot;</span><span class="p">);</span>

    <span class="n">bsec_get_state</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">a_buf</span><span class="p">,</span> <span class="n">buf_size</span><span class="p">,</span> <span class="n">work_buffer_state</span><span class="p">,</span> <span class="n">n_work_buffer_size</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n_serialized_state</span><span class="p">);</span>

    <span class="n">NRF_LOG_HEXDUMP_DEBUG</span><span class="p">(</span><span class="n">a_buf</span><span class="p">,</span> <span class="n">n_serialized_state</span><span class="p">);</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_state_load() ### END ### n_serialized_state : %d&quot;</span><span class="p">,</span> <span class="n">n_serialized_state</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">n_serialized_state</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">uint32_t</span>    <span class="nf">app_bsec_config_load</span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span> <span class="n">a_buf</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">buf_size</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">work_buffer</span><span class="p">[</span><span class="n">BSEC_MAX_PROPERTY_BLOB_SIZE</span><span class="p">];</span>
    <span class="kt">uint32_t</span> <span class="n">n_work_buffer</span> <span class="o">=</span> <span class="n">BSEC_MAX_PROPERTY_BLOB_SIZE</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">n_serialized_settings</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_config_load() ### START ###&quot;</span><span class="p">);</span>

    <span class="n">bsec_get_configuration</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">a_buf</span><span class="p">,</span> <span class="n">buf_size</span><span class="p">,</span> <span class="n">work_buffer</span><span class="p">,</span> <span class="n">n_work_buffer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n_serialized_settings</span><span class="p">);</span>

    <span class="n">NRF_LOG_HEXDUMP_DEBUG</span><span class="p">(</span><span class="n">a_buf</span><span class="p">,</span> <span class="n">n_serialized_settings</span><span class="p">);</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_bsec_config_load() ### END ### n_serialized_settings : %d&quot;</span><span class="p">,</span> <span class="n">n_serialized_settings</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">n_serialized_settings</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>app_ble.h</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#ifndef _APP_BLE_H</span>
<span class="cp">#define _APP_BLE_H</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>

<span class="cp">#ifdef  SOFTDEVICE_PRESENT</span>

<span class="kt">void</span>    <span class="nf">app_ble_stack_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span>    <span class="nf">app_ble_advertising_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span>    <span class="nf">app_ble_advertising_start</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span>    <span class="nf">app_ble_beacon_info_set</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">temperature</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">hummidity</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">pressure</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">gas</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">iaq</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">uint32_t</span> <span class="n">__app_ram_start__</span><span class="p">;</span>

<span class="cp">#else</span>

<span class="cp">#define app_ble_stack_init()</span>
<span class="cp">#define app_ble_advertising_init()</span>
<span class="cp">#define app_ble_advertising_start()</span>
<span class="cp">#define app_ble_beacon_info_set(temperature, humidyty, pressure, gas, iaq)</span>

<span class="cp">#endif</span>

<span class="cp">#endif</span>
</code></pre></div>
</td></tr></table>

<p>app_ble.c</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="cp">#ifdef  SOFTDEVICE_PRESENT</span>
<span class="cp">#define NRF_LOG_MODULE_NAME APP_BLE</span>
<span class="cp">#include</span> <span class="cpf">&quot;app_error.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_sdh.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_sdh_ble.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;ble_advdata.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_error_sdm.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_ble.h&quot;</span><span class="cp"></span>

<span class="cp">#define APP_BLE_CONN_CFG_TAG                1</span>
<span class="cp">#define APP_COMPANY_IDENTIFIER              0x0059</span>
<span class="cp">#define NON_CONNECTABLE_ADV_INTERVAL        MSEC_TO_UNITS(100, UNIT_0_625_MS)</span>
<span class="cp">#define APP_BLE_ADVERTISING_STATUS_START    1</span>
<span class="cp">#define APP_BLE_ADVERTISING_STATUS_STOP     0</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">sensor_id</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
    <span class="kt">uint8_t</span> <span class="n">device_id</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="kt">uint8_t</span> <span class="n">temperature</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="kt">uint8_t</span> <span class="n">humidity</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="kt">uint8_t</span> <span class="n">pressure</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="kt">uint8_t</span> <span class="n">gas</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
    <span class="kt">uint8_t</span> <span class="n">iaq</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">app_ble_bme680_advertising_data_t</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">uint32_t</span> <span class="n">__app_ram_start__</span><span class="p">;</span>

<span class="k">static</span> <span class="n">ble_gap_adv_params_t</span> <span class="n">app_ble_gap_adv_params</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">uint8_t</span>              <span class="n">app_ble_enc_advdata</span><span class="p">[</span><span class="n">BLE_GAP_ADV_SET_DATA_SIZE_MAX</span><span class="p">];</span>
<span class="k">static</span> <span class="kt">uint8_t</span>              <span class="n">app_ble_adv_handle</span> <span class="o">=</span> <span class="n">BLE_GAP_ADV_SET_HANDLE_NOT_SET</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">uint16_t</span>             <span class="n">app_ble_conn_handle</span> <span class="o">=</span> <span class="n">BLE_CONN_HANDLE_INVALID</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">uint8_t</span>              <span class="n">app_ble_advertising_status</span>  <span class="o">=</span> <span class="n">APP_BLE_ADVERTISING_STATUS_STOP</span><span class="p">;</span>
<span class="k">static</span> <span class="n">ble_gap_adv_data_t</span>   <span class="n">app_ble_gap_adv_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">.</span><span class="n">adv_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">p_data</span> <span class="o">=</span> <span class="n">app_ble_enc_advdata</span><span class="p">,</span>
        <span class="p">.</span><span class="n">len</span>    <span class="o">=</span> <span class="n">BLE_GAP_ADV_SET_DATA_SIZE_MAX</span>
    <span class="p">},</span>
    <span class="p">.</span><span class="n">scan_rsp_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">p_data</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">len</span>    <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="n">app_ble_bme680_advertising_data_t</span>   <span class="n">app_ble_bme680_advertising_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">.</span><span class="n">sensor_id</span> <span class="o">=</span> <span class="p">{</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xff</span> <span class="p">},</span>
    <span class="p">.</span><span class="n">device_id</span> <span class="o">=</span> <span class="p">{</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xff</span> <span class="p">},</span>
<span class="p">};</span>
<span class="n">NRF_LOG_MODULE_REGISTER</span><span class="p">();</span>

<span class="kt">void</span>    <span class="nf">app_ble_stack_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_stack_init() ### START ###&quot;</span><span class="p">);</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_sdh_enable_request</span><span class="p">());</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_sdh_ble_default_cfg_set</span><span class="p">(</span><span class="n">APP_BLE_CONN_CFG_TAG</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">__app_ram_start__</span><span class="p">));</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_sdh_ble_enable</span><span class="p">(</span><span class="o">&amp;</span><span class="n">__app_ram_start__</span><span class="p">));</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_stack_init() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_ble_advertising_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_init() ### START ###&quot;</span><span class="p">);</span>

    <span class="n">ble_advdata_manuf_data_t</span>    <span class="n">manuf_specific_data</span><span class="p">;</span>
    <span class="n">ble_advdata_t</span>               <span class="n">advdata</span><span class="p">;</span>

    <span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">advdata</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ble_advdata_t</span><span class="p">));</span>
    <span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_ble_gap_adv_params</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ble_gap_adv_params_t</span><span class="p">));</span>

    <span class="n">manuf_specific_data</span><span class="p">.</span><span class="n">company_identifier</span> <span class="o">=</span> <span class="n">APP_COMPANY_IDENTIFIER</span><span class="p">;</span>
    <span class="n">manuf_specific_data</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">p_data</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">);</span>
    <span class="n">manuf_specific_data</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data_t</span><span class="p">);</span>

    <span class="n">advdata</span><span class="p">.</span><span class="n">name_type</span> <span class="o">=</span> <span class="n">BLE_ADVDATA_NO_NAME</span><span class="p">;</span>
    <span class="n">advdata</span><span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">BLE_GAP_ADV_FLAGS_LE_ONLY_GENERAL_DISC_MODE</span><span class="p">;</span>
    <span class="n">advdata</span><span class="p">.</span><span class="n">p_manuf_specific_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">manuf_specific_data</span><span class="p">;</span>

    <span class="n">app_ble_gap_adv_params</span><span class="p">.</span><span class="n">properties</span><span class="p">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">BLE_GAP_ADV_TYPE_NONCONNECTABLE_NONSCANNABLE_UNDIRECTED</span><span class="p">;</span>
    <span class="n">app_ble_gap_adv_params</span><span class="p">.</span><span class="n">p_peer_addr</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">app_ble_gap_adv_params</span><span class="p">.</span><span class="n">filter_policy</span> <span class="o">=</span> <span class="n">BLE_GAP_ADV_FP_ANY</span><span class="p">;</span>
    <span class="n">app_ble_gap_adv_params</span><span class="p">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">NON_CONNECTABLE_ADV_INTERVAL</span><span class="p">;</span>
    <span class="n">app_ble_gap_adv_params</span><span class="p">.</span><span class="n">duration</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">ble_advdata_encode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">advdata</span><span class="p">,</span> <span class="n">app_ble_gap_adv_data</span><span class="p">.</span><span class="n">adv_data</span><span class="p">.</span><span class="n">p_data</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">app_ble_gap_adv_data</span><span class="p">.</span><span class="n">adv_data</span><span class="p">.</span><span class="n">len</span><span class="p">));</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_init() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_ble_advertising_update</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_update() ### START ###&quot;</span><span class="p">);</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">sd_ble_gap_adv_stop</span><span class="p">(</span><span class="n">app_ble_adv_handle</span><span class="p">));</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">sd_ble_gap_adv_set_configure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_ble_adv_handle</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">app_ble_gap_adv_data</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">app_ble_gap_adv_params</span><span class="p">));</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">sd_ble_gap_adv_start</span><span class="p">(</span><span class="n">app_ble_adv_handle</span><span class="p">,</span> <span class="n">APP_BLE_CONN_CFG_TAG</span><span class="p">));</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_update() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_ble_advertising_start</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_start() ### START ###&quot;</span><span class="p">);</span>

    <span class="n">app_ble_advertising_init</span><span class="p">();</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_status = %d&quot;</span><span class="p">,</span> <span class="n">app_ble_advertising_status</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">app_ble_advertising_status</span> <span class="o">==</span> <span class="n">APP_BLE_ADVERTISING_STATUS_START</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">app_ble_advertising_update</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">sd_ble_gap_adv_set_configure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_ble_adv_handle</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">app_ble_gap_adv_data</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">app_ble_gap_adv_params</span><span class="p">));</span>
        <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">sd_ble_gap_adv_start</span><span class="p">(</span><span class="n">app_ble_adv_handle</span><span class="p">,</span> <span class="n">APP_BLE_CONN_CFG_TAG</span><span class="p">));</span>
        <span class="n">app_ble_advertising_status</span> <span class="o">=</span> <span class="n">APP_BLE_ADVERTISING_STATUS_START</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_advertising_start() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>    <span class="nf">app_ble_beacon_info_set</span><span class="p">(</span>
    <span class="kt">uint16_t</span>    <span class="n">temperature</span><span class="p">,</span>
    <span class="kt">uint16_t</span>    <span class="n">humidity</span><span class="p">,</span>
    <span class="kt">uint16_t</span>    <span class="n">pressure</span><span class="p">,</span>
    <span class="kt">uint32_t</span>    <span class="n">gas</span><span class="p">,</span>
    <span class="kt">uint16_t</span>    <span class="n">iaq</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_beacon_info_set() ### START ###&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;temperature = %u&quot;</span><span class="p">,</span> <span class="n">temperature</span><span class="p">);</span>
    <span class="n">NRF_LOG_HEXDUMP_INFO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temperature</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;humidity = %u&quot;</span><span class="p">,</span> <span class="n">humidity</span><span class="p">);</span>
    <span class="n">NRF_LOG_HEXDUMP_INFO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">humidity</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;pressure = %u&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">);</span>
    <span class="n">NRF_LOG_HEXDUMP_INFO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pressure</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;gas = %u&quot;</span><span class="p">,</span> <span class="n">gas</span><span class="p">);</span>
    <span class="n">NRF_LOG_HEXDUMP_INFO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gas</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">));</span>
    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;iaq = %u&quot;</span><span class="p">,</span> <span class="n">iaq</span><span class="p">);</span>
    <span class="n">NRF_LOG_HEXDUMP_INFO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">iaq</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>

    <span class="n">memcpy</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">.</span><span class="n">temperature</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">temperature</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>
    <span class="n">memcpy</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">.</span><span class="n">humidity</span><span class="p">,</span>    <span class="o">&amp;</span><span class="n">humidity</span><span class="p">,</span>    <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>
    <span class="n">memcpy</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">.</span><span class="n">pressure</span><span class="p">,</span>    <span class="o">&amp;</span><span class="n">pressure</span><span class="p">,</span>    <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>
    <span class="n">memcpy</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">.</span><span class="n">gas</span><span class="p">,</span>         <span class="o">&amp;</span><span class="n">gas</span><span class="p">,</span>         <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">));</span>
    <span class="n">memcpy</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">.</span><span class="n">iaq</span><span class="p">,</span>         <span class="o">&amp;</span><span class="n">iaq</span><span class="p">,</span>         <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">));</span>

    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;app_ble_bme680_advertising_data hex dump&quot;</span><span class="p">);</span>
    <span class="n">NRF_LOG_HEXDUMP_INFO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app_ble_bme680_advertising_data</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">app_ble_bme680_advertising_data_t</span><span class="p">));</span>

    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;app_ble_beacon_info_set() ### END ###&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#endif</span>
</code></pre></div>
</td></tr></table>

<p>Cortex_M_Startup.s</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1">// **********************************************************************</span>
<span class="c1">// *                    SEGGER Microcontroller GmbH                     *</span>
<span class="c1">// *                        The Embedded Experts                        *</span>
<span class="c1">// **********************************************************************</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// *            (c) 2014 - 2018 SEGGER Microcontroller GmbH             *</span>
<span class="c1">// *            (c) 2001 - 2018 Rowley Associates Limited               *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// *           www.segger.com     Support: support@segger.com           *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// **********************************************************************</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * All rights reserved.                                               *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * Redistribution and use in source and binary forms, with or         *</span>
<span class="c1">// * without modification, are permitted provided that the following    *</span>
<span class="c1">// * conditions are met:                                                *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * - Redistributions of source code must retain the above copyright   *</span>
<span class="c1">// *   notice, this list of conditions and the following disclaimer.    *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * - Neither the name of SEGGER Microcontroller GmbH                  *</span>
<span class="c1">// *   nor the names of its contributors may be used to endorse or      *</span>
<span class="c1">// *   promote products derived from this software without specific     *</span>
<span class="c1">// *   prior written permission.                                        *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND             *</span>
<span class="c1">// * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,        *</span>
<span class="c1">// * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF           *</span>
<span class="c1">// * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE           *</span>
<span class="c1">// * DISCLAIMED.                                                        *</span>
<span class="c1">// * IN NO EVENT SHALL SEGGER Microcontroller GmbH BE LIABLE FOR        *</span>
<span class="c1">// * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR           *</span>
<span class="c1">// * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT  *</span>
<span class="c1">// * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;    *</span>
<span class="c1">// * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF      *</span>
<span class="c1">// * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT          *</span>
<span class="c1">// * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE  *</span>
<span class="c1">// * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH   *</span>
<span class="c1">// * DAMAGE.                                                            *</span>
<span class="c1">// *                                                                    *</span>
<span class="c1">// **********************************************************************</span>

<span class="p">.</span><span class="n">macro</span> <span class="n">ISR_HANDLER</span> <span class="n">name</span><span class="o">=</span>
  <span class="p">.</span><span class="n">section</span> <span class="p">.</span><span class="n">vectors</span><span class="p">,</span> <span class="s">&quot;ax&quot;</span>
  <span class="p">.</span><span class="n">word</span> <span class="err">\</span><span class="n">name</span>
  <span class="p">.</span><span class="n">section</span> <span class="p">.</span><span class="n">init</span><span class="p">,</span> <span class="s">&quot;ax&quot;</span>
  <span class="p">.</span><span class="n">thumb_func</span>
  <span class="p">.</span><span class="n">weak</span> <span class="err">\</span><span class="n">name</span>
<span class="err">\</span><span class="nl">name</span><span class="p">:</span>
<span class="mi">1</span><span class="o">:</span> <span class="n">b</span> <span class="mi">1</span><span class="n">b</span> <span class="cm">/* endless loop */</span>
<span class="p">.</span><span class="n">endm</span>

<span class="p">.</span><span class="n">macro</span> <span class="n">ISR_RESERVED</span>
  <span class="p">.</span><span class="n">section</span> <span class="p">.</span><span class="n">vectors</span><span class="p">,</span> <span class="s">&quot;ax&quot;</span>
  <span class="p">.</span><span class="n">word</span> <span class="mi">0</span>
<span class="p">.</span><span class="n">endm</span>

  <span class="p">.</span><span class="n">syntax</span> <span class="n">unified</span>
  <span class="p">.</span><span class="n">global</span> <span class="n">reset_handler</span>
  <span class="p">.</span><span class="n">global</span> <span class="n">Reset_Handler</span>
  <span class="p">.</span><span class="n">equ</span> <span class="n">Reset_Handler</span><span class="p">,</span> <span class="n">reset_handler</span>

  <span class="p">.</span><span class="n">section</span> <span class="p">.</span><span class="n">vectors</span><span class="p">,</span> <span class="s">&quot;ax&quot;</span>
  <span class="p">.</span><span class="n">code</span> <span class="mi">16</span>
  <span class="p">.</span><span class="n">balign</span> <span class="mi">2</span>
  <span class="p">.</span><span class="n">global</span> <span class="n">_vectors</span>

<span class="p">.</span><span class="n">macro</span> <span class="n">DEFAULT_ISR_HANDLER</span> <span class="n">name</span><span class="o">=</span>
  <span class="p">.</span><span class="n">thumb_func</span>
  <span class="p">.</span><span class="n">weak</span> <span class="err">\</span><span class="n">name</span>
<span class="err">\</span><span class="nl">name</span><span class="p">:</span>
<span class="mi">1</span><span class="o">:</span> <span class="n">b</span> <span class="mi">1</span><span class="n">b</span> <span class="cm">/* endless loop */</span>
<span class="p">.</span><span class="n">endm</span>

<span class="nl">_vectors</span><span class="p">:</span>
  <span class="p">.</span><span class="n">word</span> <span class="n">__stack_end__</span>
  <span class="p">.</span><span class="n">word</span> <span class="n">reset_handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">NMI_Handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">HardFault_Handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">MemManage_Handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">BusFault_Handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">UsageFault_Handler</span>
<span class="n">ISR_RESERVED</span>
<span class="n">ISR_RESERVED</span>
<span class="n">ISR_RESERVED</span>
<span class="n">ISR_RESERVED</span>
<span class="n">ISR_HANDLER</span> <span class="n">SVC_Handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">DebugMon_Handler</span>
<span class="n">ISR_RESERVED</span>
<span class="n">ISR_HANDLER</span> <span class="n">PendSV_Handler</span>
<span class="n">ISR_HANDLER</span> <span class="n">SysTick_Handler</span>
<span class="cp">#ifdef __VECTORS</span>
<span class="cp">#include</span> <span class="cpf">__VECTORS</span><span class="cp"></span>
<span class="cp">#else  </span>
<span class="n">ISR_HANDLER</span> <span class="n">POWER_CLOCK_IRQHandler</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR1</span>
<span class="n">ISR_HANDLER</span> <span class="n">UARTE0_UART0_IRQHandler</span>
<span class="n">ISR_HANDLER</span> <span class="n">SPIM0_SPIS0_TWIM0_TWIS0_SPI0_TWI0_IRQHandler</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR4</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR5</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR6</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR7</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR8</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR9</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR10</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR11</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR12</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR13</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR14</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR15</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR16</span>
<span class="n">ISR_HANDLER</span> <span class="n">RTC1_IRQHandler</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR18</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR19</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR20</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR21</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR22</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR23</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR24</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR25</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR26</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR27</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR28</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR29</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR30</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR31</span>
<span class="cp">#endif</span>
  <span class="p">.</span><span class="n">section</span> <span class="p">.</span><span class="n">vectors</span><span class="p">,</span> <span class="s">&quot;ax&quot;</span>
<span class="nl">_vectors_end</span><span class="p">:</span>

  <span class="p">.</span><span class="n">section</span> <span class="p">.</span><span class="n">init</span><span class="p">,</span> <span class="s">&quot;ax&quot;</span>
  <span class="p">.</span><span class="n">balign</span> <span class="mi">2</span>

  <span class="p">.</span><span class="n">thumb_func</span>
  <span class="nl">reset_handler</span><span class="p">:</span>

<span class="cp">#ifndef __NO_SYSTEM_INIT</span>
  <span class="n">ldr</span> <span class="n">r0</span><span class="p">,</span> <span class="o">=</span><span class="n">__stack_end__</span>
  <span class="n">mov</span> <span class="n">sp</span><span class="p">,</span> <span class="n">r0</span>
  <span class="n">bl</span> <span class="n">SystemInit</span>
<span class="cp">#endif</span>

<span class="cp">#if !defined(__SOFTFP__)</span>
  <span class="c1">// Enable CP11 and CP10 with CPACR |= (0xf&lt;&lt;20)</span>
  <span class="n">movw</span> <span class="n">r0</span><span class="p">,</span> <span class="mh">0xED88</span>
  <span class="n">movt</span> <span class="n">r0</span><span class="p">,</span> <span class="mh">0xE000</span>
  <span class="n">ldr</span> <span class="n">r1</span><span class="p">,</span> <span class="p">[</span><span class="n">r0</span><span class="p">]</span>
  <span class="n">orrs</span> <span class="n">r1</span><span class="p">,</span> <span class="n">r1</span><span class="p">,</span> <span class="err">#</span><span class="p">(</span><span class="mh">0xf</span> <span class="o">&lt;&lt;</span> <span class="mi">20</span><span class="p">)</span>
  <span class="n">str</span> <span class="n">r1</span><span class="p">,</span> <span class="p">[</span><span class="n">r0</span><span class="p">]</span>
<span class="cp">#endif</span>

  <span class="n">b</span> <span class="n">_start</span>

<span class="cp">#ifndef __NO_SYSTEM_INIT</span>
  <span class="p">.</span><span class="n">thumb_func</span>
  <span class="p">.</span><span class="n">weak</span> <span class="n">SystemInit</span>
<span class="nl">SystemInit</span><span class="p">:</span>
  <span class="n">bx</span> <span class="n">lr</span>
<span class="cp">#endif</span>
</code></pre></div>
</td></tr></table>

<p>BME680/BSEC関連は↓</p>
<p>https://www.bosch-sensortec.com/bst/products/all_products/bsec</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="">
        
          <a href="../009_advstart/" title="Advertisingの開始" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  前
                </span>
                Advertisingの開始
              </div>
            </div>
          </a>
        
        
          <a href="../../../7.FaBoBrick%28ANA%29/" title="FaBo Analog Bricks" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  次
                </span>
                FaBo Analog Bricks
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.83fe6e3c.min.js"></script>
      <script src="../../../assets/javascripts/bundle.7e1cb91c.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "search.config.lang": "ja", "search.config.pipeline": "", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>