



<!DOCTYPE html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="クリップボードへコピー">
      
        <meta name="lang:clipboard.copied" content="コピーしました">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="何も見つかりませんでした">
      
        <meta name="lang:search.result.one" content="1件見つかりました">
      
        <meta name="lang:search.result.other" content="#件見つかりました">
      
        <meta name="lang:search.tokenizer" content="[\s\-　、。，．]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>116 Distance Brick - FaBo Nordic Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.11e41852.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#116-distance-brick" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="FaBo Nordic Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                FaBo Nordic Docs
              </span>
              <span class="md-header-nav__topic">
                116 Distance Brick
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            検索キーワードを入力してください
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="FaBo Nordic Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    FaBo Nordic Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="FaBo NRF Docs" class="md-nav__link">
      FaBo NRF Docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../#? Environment /" title="? Shinobi_Environment" class="md-nav__link">
      ? Shinobi_Environment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../SDK_version/" title="SDKのバージョン" class="md-nav__link">
      SDKのバージョン
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../SUMMARY/" title="SUMMARY" class="md-nav__link">
      SUMMARY
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../bl42/" title="Bluetooth 4.2" class="md-nav__link">
      Bluetooth 4.2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../bleregist/" title="Bluetooth認証" class="md-nav__link">
      Bluetooth認証
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../board/" title="BOARD" class="md-nav__link">
      BOARD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../chip/" title="BLEチップ" class="md-nav__link">
      BLEチップ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../ibeadondevice/" title="iBeaconデバイス" class="md-nav__link">
      iBeaconデバイス
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../nRF5Series/" title="nRF52シリーズ" class="md-nav__link">
      nRF52シリーズ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../nrf/" title="Nrf" class="md-nav__link">
      Nrf
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      1.開発環境(Win)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        1.開発環境(Win)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/1.Keil_MDK-ARM_install/" title="KEIL MDK-ARMｍのダウンロード" class="md-nav__link">
      KEIL MDK-ARMｍのダウンロード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/2.SDK_Download/" title="2.nRF52 SDKのダウンロード" class="md-nav__link">
      2.nRF52 SDKのダウンロード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/3.NRFgoStudio_install/" title="nRFgo Stduio（Windows）" class="md-nav__link">
      nRFgo Stduio（Windows）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/4.SDK_Preparation/" title="開発の事前準備" class="md-nav__link">
      開発の事前準備
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/5.Debuger/" title="Debuger" class="md-nav__link">
      Debuger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/AboutSDK/" title="SDKについて" class="md-nav__link">
      SDKについて
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Hardware/" title="ハードウェアデザイン" class="md-nav__link">
      ハードウェアデザイン
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Programming/" title="プログラミングツール" class="md-nav__link">
      プログラミングツール
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Protocol/" title="NRF５シリーズ　プロトコル" class="md-nav__link">
      NRF５シリーズ　プロトコル
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-10" type="checkbox" id="nav-12-10">
    
    <label class="md-nav__link" for="nav-12-10">
      Board
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-10">
        Board
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Board/board/" title="Board" class="md-nav__link">
      Board
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-11" type="checkbox" id="nav-12-11">
    
    <label class="md-nav__link" for="nav-12-11">
      JTAG
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-11">
        JTAG
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/JTAG/debugger/" title="Debugger" class="md-nav__link">
      Debugger
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-12" type="checkbox" id="nav-12-12">
    
    <label class="md-nav__link" for="nav-12-12">
      Shinobi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-12">
        Shinobi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Shinobi/Shinobi_CustomBoard/" title="Shinobiボード定義" class="md-nav__link">
      Shinobiボード定義
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-13" type="checkbox" id="nav-12-13">
    
    <label class="md-nav__link" for="nav-12-13">
      Sniffer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-13">
        Sniffer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Sniffer/sniffer/" title="パケットスニファの設定" class="md-nav__link">
      パケットスニファの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.開発環境(Win)/Sniffer/sniffer_nrf/" title="パケットスニファの設定" class="md-nav__link">
      パケットスニファの設定
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      2.開発環境(Mac)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        2.開発環境(Mac)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/CommandLineTool_install/" title="CommandLineTool Install" class="md-nav__link">
      CommandLineTool Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/EmbedStudio/" title="SEGGER Embed Stduioの開発環境の構築" class="md-nav__link">
      SEGGER Embed Stduioの開発環境の構築
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/JLINK/" title="J-LINK" class="md-nav__link">
      J-LINK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/NRF5_SDK/" title="nRF5シリーズ" class="md-nav__link">
      nRF5シリーズ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/Sample/" title="Sample" class="md-nav__link">
      Sample
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/Segger/" title="Seggerでの環境構築" class="md-nav__link">
      Seggerでの環境構築
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/Segger_board/" title="Segger対応の開発ボード" class="md-nav__link">
      Segger対応の開発ボード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/VisualStudio/" title="Visual Studioの開発環境の構築" class="md-nav__link">
      Visual Studioの開発環境の構築
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/cmsis/" title="CMSIS-CORE Support PackageをImport" class="md-nav__link">
      CMSIS-CORE Support PackageをImport
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.開発環境(Mac)/error/" title="エラーとその対処" class="md-nav__link">
      エラーとその対処
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      PowerMeasure
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        PowerMeasure
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../PowerMeasure/PowerMeasure/" title="電力測定の方法" class="md-nav__link">
      電力測定の方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../PowerMeasure/PowerMeasureNotes/" title="PowerMeasureNotes" class="md-nav__link">
      PowerMeasureNotes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      ShinobiSeries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        ShinobiSeries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/10_Shinobi_GridEye/" title="10 Shinobi_GridEye" class="md-nav__link">
      10 Shinobi_GridEye
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/12_Shinobi_Battery_TPS63000/" title="Shinobi_USB_Battery(TPS63000)" class="md-nav__link">
      Shinobi_USB_Battery(TPS63000)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/1_Shinobi_NRF/" title="1 Shinobi_NRF" class="md-nav__link">
      1 Shinobi_NRF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/2_Shinobi_Battery/" title="Shinobi_Battery" class="md-nav__link">
      Shinobi_Battery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/3_Shinobi_SolarLipoCharger/" title="3 Shinobi_Solar" class="md-nav__link">
      3 Shinobi_Solar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/4_Shinobi_ANA6/" title="4 Shinobi_ANA6" class="md-nav__link">
      4 Shinobi_ANA6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/5_Shinobi_Motor/" title="5 Shinobi_Motor" class="md-nav__link">
      5 Shinobi_Motor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/8_Shinobi_USB_Battery_LDO/" title="Shinobi_USB_Battery(リニアレギュレーター)" class="md-nav__link">
      Shinobi_USB_Battery(リニアレギュレーター)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/99_Shinobi_I2C_Expand/" title="99 Shinobi_I2C Expand" class="md-nav__link">
      99 Shinobi_I2C Expand
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/9_Shinobi_USB_Battery_LM3671/" title="Shinobi_USB_Battery(LM3671)" class="md-nav__link">
      Shinobi_USB_Battery(LM3671)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/Li-PoBattery/" title="Lipo Battery" class="md-nav__link">
      Lipo Battery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/Shinobi_NFC/" title="Solar_NFC" class="md-nav__link">
      Solar_NFC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/Solarpanel_Medium/" title="Shinobi_Solar_Pannel(Round)" class="md-nav__link">
      Shinobi_Solar_Pannel(Round)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ShinobiSeries/Solarpanel_Round/" title="Solar_Pannel(Midium)" class="md-nav__link">
      Solar_Pannel(Midium)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Basic
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Basic
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/beacon/" title="Beacon" class="md-nav__link">
      Beacon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/beaconadvdata/" title="Advertising Data" class="md-nav__link">
      Advertising Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/beaconadvparam/" title="Advertising Parameter" class="md-nav__link">
      Advertising Parameter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/beaconsample/" title="Sample" class="md-nav__link">
      Sample
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/board/" title="Board" class="md-nav__link">
      Board
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/debug/" title="Debug Logger" class="md-nav__link">
      Debug Logger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/dev/" title="Dev" class="md-nav__link">
      Dev
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/dev802/" title="開発環境(SoftDevice 8.02/Keil MDK5.16)" class="md-nav__link">
      開発環境(SoftDevice 8.02/Keil MDK5.16)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/dev_nrf52/" title="開発環境(nRF52)" class="md-nav__link">
      開発環境(nRF52)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/dev_sd802/" title="開発環境(SoftDevice 8.02/Keil MDK5.16)" class="md-nav__link">
      開発環境(SoftDevice 8.02/Keil MDK5.16)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/error/" title="Common application error handler" class="md-nav__link">
      Common application error handler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/lowenergy/" title="省電力メモ" class="md-nav__link">
      省電力メモ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/memo/" title="メモ" class="md-nav__link">
      メモ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/nrf51memo/" title="メモ" class="md-nav__link">
      メモ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/pstorage/" title="Persistent Storage Interface" class="md-nav__link">
      Persistent Storage Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/serialization/" title="Serialization" class="md-nav__link">
      Serialization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/sniffer_nrf/" title="パケットスニファの設定" class="md-nav__link">
      パケットスニファの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/soft/" title="SoftDeviceを有効にする" class="md-nav__link">
      SoftDeviceを有効にする
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/softdevice/" title="SoftDevice" class="md-nav__link">
      SoftDevice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/timer/" title="Application Timer" class="md-nav__link">
      Application Timer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../basic/uart/" title="UART" class="md-nav__link">
      UART
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Beacon
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        Beacon
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/001_template/" title="BLE Peripheral templateのコピー" class="md-nav__link">
      BLE Peripheral templateのコピー
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/002_led/" title="LEDの点灯" class="md-nav__link">
      LEDの点灯
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/002_log/" title="LEDの点灯" class="md-nav__link">
      LEDの点灯
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/003_log/" title="Logの出力" class="md-nav__link">
      Logの出力
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/004_error/" title="エラーハンドラ" class="md-nav__link">
      エラーハンドラ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/005_softdevice/" title="SoftDeviceの焼き込み" class="md-nav__link">
      SoftDeviceの焼き込み
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/006_power/" title="PowerManage" class="md-nav__link">
      PowerManage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/007_init_ble/" title="BLEのInit" class="md-nav__link">
      BLEのInit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/008_advdata/" title="AdvDataの設定" class="md-nav__link">
      AdvDataの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beacon/009_advstart/" title="Advertisingの開始" class="md-nav__link">
      Advertisingの開始
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18" checked>
    
    <label class="md-nav__link" for="nav-18">
      Brick analog
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        Brick analog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="FaBo Analog Bricks" class="md-nav__link">
      FaBo Analog Bricks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../101_brick_analog_led/" title="101 LED Brick" class="md-nav__link">
      101 LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../102_brick_analog_buzzer/" title="102 Buzzer Brick" class="md-nav__link">
      102 Buzzer Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../103_brick_analog_button/" title="103 Button Brick" class="md-nav__link">
      103 Button Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../104_brick_analog_angle/" title="104 Angle Brick" class="md-nav__link">
      104 Angle Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../105_brick_analog_vibrator/" title="105 Vibrator Brick" class="md-nav__link">
      105 Vibrator Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../106_brick_analog_touch/" title="106 Touch Brick" class="md-nav__link">
      106 Touch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../107_brick_analog_limitswitch/" title="107 LimitSwitch Brick" class="md-nav__link">
      107 LimitSwitch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../108_brick_analog_temperature/" title="108 Temperature Brick" class="md-nav__link">
      108 Temperature Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../109_brick_analog_ambientlinght/" title="109 AmbientLinght Brick" class="md-nav__link">
      109 AmbientLinght Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../110_brick_analog_tilt/" title="110 Tilt Brick" class="md-nav__link">
      110 Tilt Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../112_brick_analog_ir_led/" title="121 IR_LED Brick" class="md-nav__link">
      121 IR_LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../113_brick_analog_IR_receiver/" title="113 IR_RECEVER Brick" class="md-nav__link">
      113 IR_RECEVER Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../116_brick_analog_distance/" title="116 Distance Brick" class="md-nav__link">
      116 Distance Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../117_brick_analog_slideswitch/" title="117 Switch Brick" class="md-nav__link">
      117 Switch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../118_brick_analog_hall /" title="118 Hall Brick" class="md-nav__link">
      118 Hall Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../119_brick_analog_relector/" title="119 Reflector Brick" class="md-nav__link">
      119 Reflector Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../120_brick_analog_button/" title="120 Button Brick" class="md-nav__link">
      120 Button Brick
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18-19" type="checkbox" id="nav-18-19" checked>
    
    <label class="md-nav__link" for="nav-18-19">
      Ses
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-18-19">
        Ses
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../101_brick_analog_led/" title="101 LED Brick" class="md-nav__link">
      101 LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../102_brick_analog_buzzer/" title="102 Buzzer Brick" class="md-nav__link">
      102 Buzzer Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../103_brick_analog_button/" title="103 Button Brick" class="md-nav__link">
      103 Button Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../104_brick_analog_angle/" title="104 Angle Brick" class="md-nav__link">
      104 Angle Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../105_brick_analog_vibrator/" title="105 Vibrator Brick" class="md-nav__link">
      105 Vibrator Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../106_brick_analog_touch/" title="106 Touch Brick" class="md-nav__link">
      106 Touch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../107_brick_analog_limitswitch/" title="107 LimitSwitch Brick" class="md-nav__link">
      107 LimitSwitch Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../108_brick_analog_temperature/" title="108 Temperature Brick" class="md-nav__link">
      108 Temperature Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../109_brick_analog_ambientlinght/" title="109 AmbientLinght Brick" class="md-nav__link">
      109 AmbientLinght Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../110_brick_analog_tilt/" title="110 Tilt Brick" class="md-nav__link">
      110 Tilt Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../112_brick_analog_ir_led/" title="121 IR_LED Brick" class="md-nav__link">
      121 IR_LED Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../113_brick_analog_IR_receiver/" title="113 IR_RECEVER Brick" class="md-nav__link">
      113 IR_RECEVER Brick
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        116 Distance Brick
      </label>
    
    <a href="./" title="116 Distance Brick" class="md-nav__link md-nav__link--active">
      116 Distance Brick
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目次</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting" title="Connecting" class="md-nav__link">
    Connecting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gp2y0a21yk-datasheet" title="GP2Y0A21YK Datasheet" class="md-nav__link">
    GP2Y0A21YK Datasheet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-include-directories" title="User Include Directories" class="md-nav__link">
    User Include Directories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preprocessor-definitions" title="Preprocessor Definitions" class="md-nav__link">
    Preprocessor Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sdk-file" title="SDK File" class="md-nav__link">
    SDK File
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section" title="Section" class="md-nav__link">
    Section
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#irqhandler" title="IRQHandler" class="md-nav__link">
    IRQHandler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-code" title="Sample Code" class="md-nav__link">
    Sample Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parts" title="構成Parts" class="md-nav__link">
    構成Parts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github" title="GitHub" class="md-nav__link">
    GitHub
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19" type="checkbox" id="nav-19">
    
    <label class="md-nav__link" for="nav-19">
      Brick i2c
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-19">
        Brick i2c
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/201_brick_i2c_3Aix/" title="201 3Aixs I2C Brick" class="md-nav__link">
      201 3Aixs I2C Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/202_brick_i2c_9Aix/" title="202 9Aixs I2C Brick" class="md-nav__link">
      202 9Aixs I2C Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/204_brick_i2c_barometer/" title="204 Barometer Brick" class="md-nav__link">
      204 Barometer Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/205_brick_i2c_proximity/" title="205 Proximity Brick" class="md-nav__link">
      205 Proximity Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/207_brick_i2c_Temprature/" title="207 temperature Brick" class="md-nav__link">
      207 temperature Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/210_brick_i2c_GPIO/" title="210 GPIO I2C Brick" class="md-nav__link">
      210 GPIO I2C Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_i2c/213_brick_i2c_LCDMini/" title="213 LCD_Mini Brick" class="md-nav__link">
      213 LCD_Mini Brick
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-20" type="checkbox" id="nav-20">
    
    <label class="md-nav__link" for="nav-20">
      Brick serial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-20">
        Brick serial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_serial/302Buletooth_Serial/" title="302 Buletooth Serial Brick" class="md-nav__link">
      302 Buletooth Serial Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_serial/304USB_Serial/" title="304 USB Serial Brick" class="md-nav__link">
      304 USB Serial Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_serial/305Wifi_Serial/" title="305 Wifi Serial Brick" class="md-nav__link">
      305 Wifi Serial Brick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../brick_serial/NUS/" title="NUS" class="md-nav__link">
      NUS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-21" type="checkbox" id="nav-21">
    
    <label class="md-nav__link" for="nav-21">
      Chip
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-21">
        Chip
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../chip/chiplist/" title="BLEチップ" class="md-nav__link">
      BLEチップ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../chip/chipspec/" title="BLEチップの感度比較" class="md-nav__link">
      BLEチップの感度比較
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../chip/loralist/" title="LoRaチップ" class="md-nav__link">
      LoRaチップ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../chip/sensor/" title="Sensor SoCチップ" class="md-nav__link">
      Sensor SoCチップ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-22" type="checkbox" id="nav-22">
    
    <label class="md-nav__link" for="nav-22">
      Module
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-22">
        Module
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/modulebroadcom/" title="Broadcom" class="md-nav__link">
      Broadcom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/modulecsr/" title="CSR" class="md-nav__link">
      CSR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/modulecypress/" title="Cypress" class="md-nav__link">
      Cypress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/moduledialog/" title="Dialog" class="md-nav__link">
      Dialog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/moduleetc/" title="その他" class="md-nav__link">
      その他
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/modulenordic/" title="Nordic Semiconductor" class="md-nav__link">
      Nordic Semiconductor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/modulesiliconlab/" title="SiliconLabs" class="md-nav__link">
      SiliconLabs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../module/moduleti/" title="TI" class="md-nav__link">
      TI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23" type="checkbox" id="nav-23">
    
    <label class="md-nav__link" for="nav-23">
      Shinobi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-23">
        Shinobi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shinobi/1_Shinobi_NRF_ANA6/" title="1  Shinobi_NRF_ANA6" class="md-nav__link">
      1  Shinobi_NRF_ANA6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shinobi/5_Shinobi_Motor/" title="5 Shinobi Motor" class="md-nav__link">
      5 Shinobi Motor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shinobi/recognize/" title="認識させるコツ" class="md-nav__link">
      認識させるコツ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目次</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting" title="Connecting" class="md-nav__link">
    Connecting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gp2y0a21yk-datasheet" title="GP2Y0A21YK Datasheet" class="md-nav__link">
    GP2Y0A21YK Datasheet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-include-directories" title="User Include Directories" class="md-nav__link">
    User Include Directories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preprocessor-definitions" title="Preprocessor Definitions" class="md-nav__link">
    Preprocessor Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sdk-file" title="SDK File" class="md-nav__link">
    SDK File
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section" title="Section" class="md-nav__link">
    Section
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#irqhandler" title="IRQHandler" class="md-nav__link">
    IRQHandler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-code" title="Sample Code" class="md-nav__link">
    Sample Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parts" title="構成Parts" class="md-nav__link">
    構成Parts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github" title="GitHub" class="md-nav__link">
    GitHub
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="116-distance-brick">#116 Distance Brick</h1>
<p><img alt="" src="/img/DISTANCE116/116.jpg" />
<!--COLORME--></p>
<h2 id="overview">Overview</h2>
<p>距離センサーモジュールを使用したBrickです。</p>
<p>I/Oピンより距離センサーの正面についているレンズから物体までの距離をアナログ値(0〜1023)で取得することができます。</p>
<p>測定可能な距離は10〜80cmとなっています。</p>
<p><center><img alt="" src="../img/DISTANCE116/GP2Y0A21.jpg" /></p>
<h2 id="connecting">Connecting</h2>
<p><img alt="" src="/img/DISTANCE116/FaBo_116_DISTANCE_CONNECT.JPG" /></p>
<h2 id="gp2y0a21yk-datasheet">GP2Y0A21YK Datasheet</h2>
<table>
<thead>
<tr>
<th>Document</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.sharpsma.com/webfm_send/1208">GP2Y0A21YK Datasheet</a></td>
</tr>
</tbody>
</table>
<h2 id="user-include-directories">User Include Directories</h2>
<p>Solution Option -&gt; Preprocessor -&gt; User Include Directoriesに以下を追加する。(../nRF5_SDKの部分は適宜変えてください。)</p>
<table>
<thead>
<tr>
<th align="left">Path</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src/prs</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/mutex</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/atomic</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/ringbuf</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/external/fprintf</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/balloc</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/memobj</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/strerror</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/log</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/experimental_section_vars</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/pwr_mgmt</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/delay</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/hal</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/boards</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/drivers_nrf/nrf_soc_nosd</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/libraries/util</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/integration/nrfx</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/include</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/integration/nrfx/legacy</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/components/toolchain/cmsis/include</td>
</tr>
<tr>
<td align="left">../nRF5_SDK/modules/nrfx/mdk</td>
</tr>
<tr>
<td align="left">.</td>
</tr>
</tbody>
</table>
<h2 id="preprocessor-definitions">Preprocessor Definitions</h2>
<p>Solution Option -&gt; Preprocessor -&gt; Preprocessor Definitionsに以下を追加する。</p>
<table>
<thead>
<tr>
<th align="left">COPT</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">NRFX_SAADC_ENABLED</td>
</tr>
<tr>
<td align="left">SAADC_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_PPI_ENABLED</td>
</tr>
<tr>
<td align="left">PPI_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_POWER_ENABLED</td>
</tr>
<tr>
<td align="left">POWER_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_TIMER0_ENABLED</td>
</tr>
<tr>
<td align="left">TIMER0_ENABLED</td>
</tr>
<tr>
<td align="left">NRFX_TIMER_ENABLED</td>
</tr>
<tr>
<td align="left">TIMER_ENABLED</td>
</tr>
<tr>
<td align="left">NRF52832_XXAB</td>
</tr>
<tr>
<td align="left">BOARD_CUSTOM</td>
</tr>
</tbody>
</table>
<h2 id="sdk-file">SDK File</h2>
<p>Projectに以下のファイルを追加する。(../nRF5_SDKの部分は適宜変えてください。)</p>
<table>
<thead>
<tr>
<th align="left">File</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">app_error.c</td>
<td align="left">../nRF5_SDK/components/libraries/util</td>
</tr>
<tr>
<td align="left">app_error_handler_gcc.c</td>
<td align="left">../nRF5_SDK/components/libraries/util</td>
</tr>
<tr>
<td align="left">app_error_weak.c</td>
<td align="left">../nRF5_SDK/components/libraries/util</td>
</tr>
<tr>
<td align="left">app_util_platform.c</td>
<td align="left">../nRF5_SDK/components/libraries/util</td>
</tr>
<tr>
<td align="left">nrf_atomic.c</td>
<td align="left">../nRF5_SDK/components/libraries/atomic</td>
</tr>
<tr>
<td align="left">nrf_balloc.c</td>
<td align="left">../nRF5_SDK/components/libraries/balloc</td>
</tr>
<tr>
<td align="left">nrf_drv_power.c</td>
<td align="left">../nRF5_SDK/integration/nrfx/legacy</td>
</tr>
<tr>
<td align="left">nrf_drv_ppi.c</td>
<td align="left">../nRF5_SDK/integration/nrfx/legacy</td>
</tr>
<tr>
<td align="left">nrf_drv_uart.c</td>
<td align="left">../nRF5_SDK/integration/nrfx/legacy</td>
</tr>
<tr>
<td align="left">nrf_fprintf.c</td>
<td align="left">../nRF5_SDK/external/fprintf</td>
</tr>
<tr>
<td align="left">nrf_fprintf_format.c</td>
<td align="left">../nRF5_SDK/external/fprintf</td>
</tr>
<tr>
<td align="left">nrf_log_backend_serial.c</td>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">nrf_log_backend_uart.c</td>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">nrf_log_default_backends.c</td>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">nrf_log_frontend.c</td>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">nrf_log_str_formatter.c</td>
<td align="left">../nRF5_SDK/components/libraries/log/src</td>
</tr>
<tr>
<td align="left">nrf_memobj.c</td>
<td align="left">../nRF5_SDK/components/libraries/memobj</td>
</tr>
<tr>
<td align="left">nrf_pwr_mgmt.c</td>
<td align="left">../nRF5_SDK/components/libraries/pwr_mgmt</td>
</tr>
<tr>
<td align="left">nrf_ringbuf.c</td>
<td align="left">../nRF5_SDK/components/libraries/ringbuf</td>
</tr>
<tr>
<td align="left">nrf_section_iter.c</td>
<td align="left">../nRF5_SDK/components/libraries/experimental_section_vars</td>
</tr>
<tr>
<td align="left">nrf_strerror.c</td>
<td align="left">../nRF5_SDK/components/libraries/strerror</td>
</tr>
<tr>
<td align="left">nrfx_power.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">nrfx_ppi.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">nrfx_prs.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src/prs</td>
</tr>
<tr>
<td align="left">nrfx_saadc.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">nrfx_timer.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">nrfx_uart.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
<tr>
<td align="left">nrfx_uarte.c</td>
<td align="left">../nRF5_SDK/modules/nrfx/drivers/src</td>
</tr>
</tbody>
</table>
<h2 id="section">Section</h2>
<p>SEGGER_Flash.icfファイルを編集する。(SEGGER_Flash.icfはProject配下に自動生成されている。以下抜粋)</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span> <span class="o">:</span>

<span class="n">define</span> <span class="n">block</span> <span class="n">log_const_data_start</span> <span class="n">with</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">8</span> <span class="p">{</span> <span class="n">symbol</span> <span class="n">__start_log_const_data</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">log_const_data_list</span> <span class="p">{</span> <span class="n">section</span> <span class="p">.</span><span class="n">log_const_data</span><span class="o">*</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">log_const_data_stop</span> <span class="n">with</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">8</span> <span class="p">{</span> <span class="n">symbol</span> <span class="n">__stop_log_const_data</span> <span class="p">};</span>
<span class="n">define</span> <span class="n">block</span> <span class="n">log_const_data</span> <span class="n">with</span> <span class="n">fixed</span> <span class="n">order</span> <span class="p">{</span> <span class="n">block</span> <span class="n">log_const_data_start</span><span class="p">,</span> <span class="n">block</span> <span class="n">log_const_data_list</span><span class="p">,</span> <span class="n">block</span> <span class="n">log_const_data_stop</span> <span class="p">};</span>

 <span class="o">:</span>

<span class="n">place</span> <span class="n">in</span> <span class="n">FLASH</span>                           <span class="p">{</span>
                                           <span class="n">block</span> <span class="n">tdata_load</span><span class="p">,</span>                       <span class="c1">// Thread-local-storage load image</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">log_backends</span><span class="p">,</span>
                                           <span class="n">section</span> <span class="p">.</span><span class="n">nrf_balloc</span><span class="p">,</span>
                                           <span class="n">block</span> <span class="n">log_const_data</span>
                                         <span class="p">};</span>
 <span class="o">:</span>
</pre></div>
</td></tr></table>

<h2 id="irqhandler">IRQHandler</h2>
<p>Cortex_M_Startup.sファイルを編集する。(長いので抜粋)</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">ISR_HANDLER</span> <span class="n">ExternalISR0</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR1</span>
<span class="n">ISR_HANDLER</span> <span class="n">UARTE0_UART0_IRQHandler</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR3</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR4</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR5</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR6</span>
<span class="n">ISR_HANDLER</span> <span class="n">SAADC_IRQHandler</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR8</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR9</span>
<span class="n">ISR_HANDLER</span> <span class="n">ExternalISR10</span>
</pre></div>
</td></tr></table>

<h2 id="sample-code">Sample Code</h2>
<p>main.c</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_saadc.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_ppi.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_timer.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;boards.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_error.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_delay.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_util_platform.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_pwr_mgmt.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_drv_power.h&quot;</span><span class="cp"></span>

<span class="cp">#define NRF_LOG_MODULE_NAME FABO_116_DISTANCE</span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log.h&quot;</span><span class="cp"></span>
<span class="n">NRF_LOG_MODULE_REGISTER</span><span class="p">();</span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log_ctrl.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;nrf_log_default_backends.h&quot;</span><span class="cp"></span>

<span class="cp">#define SAMPLES_IN_BUFFER 10</span>
<span class="k">volatile</span> <span class="kt">uint8_t</span> <span class="n">state</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">nrf_log_module_const_data_t</span><span class="o">*</span>    <span class="n">__start_log_const_data</span><span class="p">;</span>
<span class="kt">void</span><span class="o">*</span>                           <span class="n">__stop_log_const_data</span><span class="p">;</span>
<span class="n">nrf_log_module_dynamic_data_t</span><span class="o">*</span>    <span class="n">__start_log_dynamic_data</span><span class="p">;</span>
<span class="kt">void</span><span class="o">*</span>                           <span class="n">__stop_log_dynamic_data</span><span class="p">;</span>
<span class="kt">void</span><span class="o">*</span>                           <span class="n">__start_pwr_mgmt_data</span><span class="p">;</span>
<span class="kt">void</span><span class="o">*</span>                           <span class="n">__stop_pwr_mgmt_data</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">map</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">*</span><span class="n">source</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="kt">int</span><span class="p">));</span>

<span class="k">static</span> <span class="k">const</span> <span class="n">nrf_drv_timer_t</span> <span class="n">m_timer</span> <span class="o">=</span> <span class="n">NRF_DRV_TIMER_INSTANCE</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">static</span> <span class="n">nrf_saadc_value_t</span>     <span class="n">m_buffer_pool</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">SAMPLES_IN_BUFFER</span><span class="p">];</span>
<span class="k">static</span> <span class="n">nrf_ppi_channel_t</span>     <span class="n">m_ppi_channel</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">uint32_t</span>              <span class="n">m_adc_evt_counter</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">timer_handler</span><span class="p">(</span><span class="n">nrf_timer_event_t</span> <span class="n">event_type</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">p_context</span><span class="p">)</span>
<span class="p">{</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="nf">map</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">*</span><span class="n">source</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="kt">int</span><span class="p">))</span>  
<span class="p">{</span>  
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  
        <span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>  
    <span class="p">}</span>  
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">saadc_sampling_event_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_ppi_init</span><span class="p">());</span>

    <span class="n">nrf_drv_timer_config_t</span> <span class="n">timer_cfg</span> <span class="o">=</span> <span class="n">NRF_DRV_TIMER_DEFAULT_CONFIG</span><span class="p">;</span>
    <span class="n">timer_cfg</span><span class="p">.</span><span class="n">bit_width</span> <span class="o">=</span> <span class="n">NRF_TIMER_BIT_WIDTH_32</span><span class="p">;</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_timer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_timer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">timer_cfg</span><span class="p">,</span> <span class="n">timer_handler</span><span class="p">));</span>

    <span class="kt">uint32_t</span> <span class="n">ticks</span> <span class="o">=</span> <span class="n">nrf_drv_timer_ms_to_ticks</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_timer</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="n">nrf_drv_timer_extended_compare</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_timer</span><span class="p">,</span>
                                   <span class="n">NRF_TIMER_CC_CHANNEL0</span><span class="p">,</span>
                                   <span class="n">ticks</span><span class="p">,</span>
                                   <span class="n">NRF_TIMER_SHORT_COMPARE0_CLEAR_MASK</span><span class="p">,</span>
                                   <span class="nb">false</span><span class="p">);</span>
    <span class="n">nrf_drv_timer_enable</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_timer</span><span class="p">);</span>

    <span class="kt">uint32_t</span> <span class="n">timer_compare_event_addr</span> <span class="o">=</span> <span class="n">nrf_drv_timer_compare_event_address_get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_timer</span><span class="p">,</span>
                                                                                <span class="n">NRF_TIMER_CC_CHANNEL0</span><span class="p">);</span>
    <span class="kt">uint32_t</span> <span class="n">saadc_sample_task_addr</span>   <span class="o">=</span> <span class="n">nrf_drv_saadc_sample_task_get</span><span class="p">();</span>

    <span class="cm">/* setup ppi channel so that timer compare event is triggering sample task in SAADC */</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_ppi_channel_alloc</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_ppi_channel</span><span class="p">));</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_ppi_channel_assign</span><span class="p">(</span> <span class="n">m_ppi_channel</span><span class="p">,</span>
                                                <span class="n">timer_compare_event_addr</span><span class="p">,</span>
                                                <span class="n">saadc_sample_task_addr</span><span class="p">));</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">saadc_sampling_event_enable</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_ppi_channel_enable</span><span class="p">(</span><span class="n">m_ppi_channel</span><span class="p">));</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">saadc_callback</span><span class="p">(</span><span class="n">nrf_drv_saadc_evt_t</span> <span class="k">const</span> <span class="o">*</span> <span class="n">p_event</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">p_event</span><span class="o">-&gt;</span><span class="n">type</span> <span class="o">==</span> <span class="n">NRF_DRV_SAADC_EVT_DONE</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_saadc_buffer_convert</span><span class="p">(</span><span class="n">p_event</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">done</span><span class="p">.</span><span class="n">p_buffer</span><span class="p">,</span> <span class="n">SAMPLES_IN_BUFFER</span><span class="p">));</span>

        <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
        <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;ADC event number:%d&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">m_adc_evt_counter</span><span class="p">);</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">SAMPLES_IN_BUFFER</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">voltage</span> <span class="o">=</span> <span class="p">(</span><span class="n">p_event</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">done</span><span class="p">.</span><span class="n">p_buffer</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="mf">1024.0</span><span class="p">)</span><span class="o">*</span><span class="mf">3300.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">distance</span> <span class="o">=</span> <span class="mi">80</span> <span class="o">-</span> <span class="p">((</span><span class="mf">70.0</span><span class="o">/</span><span class="mf">2700.0</span><span class="p">)</span><span class="o">*</span><span class="n">voltage</span><span class="p">);</span>
            <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;DISTANCE=&quot;</span> <span class="n">NRF_LOG_FLOAT_MARKER</span> <span class="s">&quot;cm&quot;</span><span class="p">,</span> <span class="n">NRF_LOG_FLOAT</span><span class="p">(</span><span class="n">distance</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="n">m_adc_evt_counter</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">saadc_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">nrf_saadc_channel_config_t</span> <span class="n">channel_config</span> <span class="o">=</span> <span class="n">NRF_DRV_SAADC_DEFAULT_CHANNEL_CONFIG_SE</span><span class="p">(</span><span class="n">NRF_SAADC_INPUT_AIN1</span><span class="p">);</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_saadc_init</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="n">saadc_callback</span><span class="p">));</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_saadc_channel_init</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">channel_config</span><span class="p">));</span>  

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_saadc_buffer_convert</span><span class="p">(</span><span class="n">m_buffer_pool</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">SAMPLES_IN_BUFFER</span><span class="p">));</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_saadc_buffer_convert</span><span class="p">(</span><span class="n">m_buffer_pool</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">SAMPLES_IN_BUFFER</span><span class="p">));</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">NRF_LOG_INIT</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
    <span class="n">NRF_LOG_DEFAULT_BACKENDS_INIT</span><span class="p">();</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_drv_power_init</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>

    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">nrf_pwr_mgmt_init</span><span class="p">());</span>

    <span class="n">NRF_LOG_INFO</span><span class="p">(</span><span class="s">&quot;Fabo Shinobi Distance 116 Brick&quot;</span><span class="p">);</span>

    <span class="n">saadc_init</span><span class="p">();</span>
    <span class="n">saadc_sampling_event_init</span><span class="p">();</span>
    <span class="n">saadc_sampling_event_enable</span><span class="p">();</span>

    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">nrf_pwr_mgmt_run</span><span class="p">();</span>
        <span class="n">NRF_LOG_FLUSH</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>TeraTermを起動し確認します。リセットボタンを押すと起動します。
<center><img alt="" src="../img/DISTANCE116/TeraTerm116.png" /></p>
<h2 id="parts">構成Parts</h2>
<ul>
<li>距離センサーモジュール GP2Y0A21YK</li>
</ul>
<h2 id="github">GitHub</h2>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../113_brick_analog_IR_receiver/" title="113 IR_RECEVER Brick" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前
                </span>
                113 IR_RECEVER Brick
              </span>
            </div>
          </a>
        
        
          <a href="../../../brick_i2c/201_brick_i2c_3Aix/" title="201 3Aixs I2C Brick" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  次
                </span>
                201 3Aixs I2C Brick
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.9e1f3b71.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>